{"version":3,"sources":["hooks/useFetch.tsx","context/UserContext.tsx","hooks/useStickyState.tsx","configurations/variables.ts","configurations/school.ts","context/AppContext.tsx","configurations/api.ts","hooks/useAuth.tsx","components/Breadcrums/index.tsx","pages/Dashboard/index.tsx","icons/AddIcon.tsx","utils/parsersData.ts","hooks/useElection.tsx","components/ContentLoader/ElectionsContent/index.tsx","components/ContentLoader/DisplayError/index.tsx","icons/FreelancerCover.tsx","components/ContentLoader/DisplayNoData/index.tsx","components/ContentLoader/DisplayNotFound/index.tsx","components/ContentLoader/index.tsx","components/Card/CardElection/index.tsx","utils/createUID.ts","models/election.ts","components/Modals/ModalCreateElection/index.tsx","pages/Elections/index.tsx","components/Tabs/index.tsx","components/ButtonGroupPicker/index.tsx","components/InputFetch/index.tsx","context/TheElectionContext.tsx","hooks/useAsync.tsx","utils/validators.ts","components/Modals/ModalCargo/index.tsx","components/Lists/ListCargos/index.tsx","pages/EditElection/TabSettings/index.tsx","components/PickFile/index.tsx","components/TableWithPagination/index.tsx","components/Modals/ModalVoter/index.tsx","utils/excelToJSON.ts","hooks/useParserData.tsx","components/Modals/ModalPreviewVoter/index.tsx","components/Card/CardTag/index.tsx","components/Lists/ListTagsWithVoters/index.tsx","pages/EditElection/TabVoters/index.tsx","components/DeferComponentRender/index.tsx","components/Card/CardCandidate/index.tsx","components/Lists/ListCandidates/index.tsx","components/Modals/ModalCandidate/FormCandidate.tsx","components/Modals/ModalCandidate/index.tsx","pages/EditElection/TabCandidates/index.tsx","components/UploadFile/PreviewFile/index.tsx","components/UploadFile/PreviewImage/index.tsx","components/Card/CardCampaign/index.tsx","components/Lists/ListCampaigns/index.tsx","components/Modals/ModalCampaign/stepNameCampaign.tsx","components/UploadFile/index.tsx","components/Modals/ModalCampaign/stepUploadLogo.tsx","components/Modals/ModalCampaign/stepUploadCommitments.tsx","components/Modals/ModalCampaign/index.tsx","pages/EditElection/TabCampaigns/index.tsx","pages/EditElection/TabGeneral/index.tsx","utils/properTypes.ts","pages/EditElection/index.tsx","pages/StatsElection/TabStatsPerTag/index.tsx","pages/StatsElection/TabStatsGeneral/index.tsx","pages/StatsElection/index.tsx","pages/Apps/index.tsx","pages/Message/index.tsx","pages/Forms/index.tsx","pages/NotFoundPage/index.tsx","routes/ClientRoutesComponent.tsx","components/Card/CardLink/index.tsx","components/Lists/ListCardLinks/index.tsx","components/Layout/index.tsx","pages/Login/index.tsx","pages/Votar/ScreenCredentials/index.tsx","pages/Votar/ScreenElections/index.tsx","pages/Votar/index.tsx","routes/VisitRoutesComponent.tsx","icons/FormIcon.tsx","icons/AppsIcon.tsx","icons/MailIcon.tsx","icons/BullhornIcon.tsx","icons/MenuIcon.tsx","icons/UserIcon.tsx","components/AppBar/index.tsx","components/SplashScreen/index.tsx","App.tsx","index.tsx"],"names":["headersAuth","token","Authorization","userFetch","fetchGetWithToken","url","a","axios","get","headers","then","data","fetchGetWithoutToken","fetchPostWithToken","post","fetchPostWithoutToken","fetchPutWithToken","put","fetchPutWithoutToken","fetchDelWithToken","delete","fetchDelWithoutToken","fetchUploadFile","progress","onUploadProgress","loaded","total","Math","round","TokenContext","React","createContext","TokenActionContext","UserContext","UserActionsContext","UserContextProvider","children","defaultValue","key","useState","stickyValue","window","localStorage","getItem","JSON","parse","value","setValue","useEffect","setItem","stringify","handleStorage","useCallback","event","newValue","addEventListener","removeEventListener","useStickyState","jwt","updateToken","user","updateUser","Provider","isProduction","String","process","toLowerCase","includes","prod_config","school_conf","useApp","school","useContext","SchoolContext","school_config","REACT_API_URL","api","endpoint","useAuth","useSWR","refreshInterval","mutateUser","mutate","error","isCheckAuth","useMemo","isLoggedOut","Boolean","message","isThereUser","removeSession","createSession","session","updateUserWithFetchUser","newUser","mounted","withRouter","history","breadcrumbs","className","map","breadcrumb","index","label","name","onClick","push","pathname","Dashboard","_","useTitle","AddIcon","props","viewBox","fill","color","d","mapToUnderscore","item","_index","trim","split","join","toUnderscore","arg","parseDoubleArrToObjArr","arr","doubleArr","Array","isArray","arrFields","shift","arrItem","obj","forEach","field","id","doubleArrExtractValues","itemFound","findIndex","compareWith","matchWith","doubleArrPushValues","fieldValue","array","sort","recurse","min","max","middle","floor","length","doubleArrRemoveItem","matchValue","filter","hasMatchWith","parseObjtArrToDoubleArr","objs","arrKeyValidator","arrKeys","Object","prototype","hasOwnProperty","call","undefined","parseObjtToArr","uniqueArray","hashMap","uniqueArr","i","useFetch","useElection","dataUrl","createUrl","removeUrl","updateUrl","confApi","isFetching","isFetchError","apiCreate","newData","revalidate","apiUpdate","apiRemove","cb","getParsedObj","getValuesField","arrId","ElectionsContent","height","backgroundColor","width","speed","x","y","rx","ry","DisplayError","FreelancerIcon","transform","cx","cy","r","style","isolation","points","DisplayNoData","memo","to","variant","noData","isNoData","notFound","isError","messageNoData","ContentShapes","shape","contentScreen","propsContent","CardElection","election","isActiveElection","status","campaigns","candidates","voters","tags","initialValues","onSubmit","onDelete","isSubmitting","title","state","padding","disabled","type","BadgeStatus","uuidv4","replace","c","random","toString","tagsDataModel","candidatesDataModel","campaignsDataModel","defaultCampaign","slug","cover_image","logo_image","commitments_file","defaultCargo","alias","defaultCandidate","names","surnames","course","cargo","campaign_slug","defaultElection","uid","cargos","fields","first_auth","active","second_auth","ModalCreateElection","isOpen","onClose","createElection","size","onRequestClose","values","setFieldValue","placeholder","margin","maxWidth","onChange","target","isOpenCreateElection","openCreateElection","elections","handleEditElection","val","deleteElection","initialTab","currentTab","setCurrentTab","onSelect","_e","tabId","tabIndex","tabs","tab","onSelectTab","activeTabName","icon","toLocaleUpperCase","ButtonGroupPicker","itemPicked","onPick","pickList","bottomHelpText","show","initialValue","inputState","setInputState","useDebounce","resolveData","beforeChange","cancelDebounceRequest","useTheElection","theElection","TheElectionContext","TheElectionMutateContext","mutateTheElectionWith","TheElectionIdContext","TheElectionContextProvider","TheElectionId","TheElectionValue","TheElectionMutate","useAsync","asyncFunction","immediate","setStatus","setError","execute","response","validationMessages","validations","object","entries","reduce","errors","property","requirements","required","errorMessage","validateRequiredMessage","validateLengthMessage","checkErrors","hasError","validators","createOrUpdate","cancel","isModalOpen","candidateSlug","taskFunction","cancelFunction","ContainerModal","modalTitle","asyncCreateOrUpdate","theCargo","find","currCargo","setCurrCargo","footer","crgs","cargoindex","ListCargos","editCargo","pickStatusList","TabSettings","updateElection","useAsyncFn","stateAsyncUpdate","execAsyncUpdate","selectFieldsList","loading","setFirst_auth","setSecond_auth","statusPicked","pickStatus","setModalOpen","slugCampaign","setSlugCampaign","openModal","closeModal","console","log","iPicked","textAlign","options","new_first_auth","new_second_auth","PickFile","isDisablePicker","setIsDisablePicker","handlePickFile","files","file","success","fileName","extension","substring","lastIndexOf","inputFileExt","fileAccept","accept","hasMatch","onError","Error","fileType","TableWithPagination","keyField","limit","columns","header","minColumnWidth","pageSize","pushData","setTags","setVoters","asyncUpdateElection","reader","FileReader","rABS","readAsBinaryString","onloadend","bstr","result","wb","XLSX","read","SheetNames","sheetName","utils","sheet_to_json","Sheets","readAsArrayBuffer","excelToJSON","fieldSheetSlug","excel","sheetsContent","fieldsSheet","sheets","keys","tagName","sheet","concat","convertSheetsToObjArr","useParserData","getValuesFromDoubleArray","convertDoubleArrToObjArr","convertObjArrToDoubleArr","doubleArray","fieldToBeExtracted","objArr","arrkeyValidator","ModalPreviewVoter","CardTag","tag","countVoters","onOpenTag","_props","isOpenModal","tagKey","setTagKey","tagsWithVoters","setTagsWithVoters","tagWithVoters","voter","tag_slug","buildTagsWithVotersAndPush","tagSlug","WrappedComponent","DeferListTagsWithVoters","ListTagsWithVoters","hoistStatics","shouldRender","setShouldRender","requestRef","useRef","makeARender","current","requestAnimationFrame","cancelAnimationFrame","TabVoters","isOpenModalVoter","openModalVoter","ModalVoter","isTrue","CardCandidate","candidate","onRequestDelete","onRequestOpen","getCampaignName","campaignName","submitForm","ListCandidates","editCandidate","FormCandidate","setCandidate","cmp","theCandidate","cndt","currCandidate","setCurrCandidate","cndts","cmpIndex","TabCandidates","slugIntegrant","setSlugIntegrant","PreviewFile","fileUrl","withNoRemove","onRemoveHandler","href","rel","ext","slice","cutFileName","PreviewNoFile","PreviewImage","src","assistiveText","resolveUrl","CardCampaign","campaign","ListCampaigns","editCampaign","listCandidates","cnd","StepCampaignName","onChangeName","UploadFile","isHasDone","setIsHasDone","prgrss","setPrgrss","handlePickFileOne","FormData","append","stepUploadLogo","Number","err","logo","StepUploadCommitments","campaignSlug","theCampaign","currCampaign","setCurrCampaign","removeFile","fileId","cmps","logoId","pdf","pdfId","TabCampaigns","TabGeneral","resolveValueType","expectedType","match","currentElectionId","params","selectedTab","setSelectedTab","newElection","TabStatsPerTag","isPrivate","pageRef","SectionGeneratePdf","ref","labels","legendPosition","disableCurves","borderColor","isClicked","setIsClicked","element","setElement","getScreenshot","html2canvas","canvas","toDataURL","screenshot","pageRendered","document","onRender","blob","finally","Fragment","TabStatsGeneral","StatsElection","setElection","Apps","Message","Forms","Breadcrums","goBack","ClientRoutes","exact","from","path","component","DashboardPage","ElectionsPage","EditElectionPage","AppsPage","MessagePage","FormsPage","NotFoundPage","CardLink","link","cover","description","coverImage","backgroundImage","ListCardLinks","links","Layout","Login","cardLinks","external","sendLoginRequest","identifier","password","setFieldError","sendRecoveryRequest","email","submitLogin","submitRecovery","SectionForms","loginSchema","yup","default","recoverySchema","isRecoveryPassword","openRecoveryPassword","validationSchema","render","errMessage","ScreenCredentials","ScreenElections","Votar","location","isLoading","setIsLoading","setIsError","setElections","URLSearchParams","search","catch","VisitRoutes","LoginPage","VotarPage","FormIcon","AppsIcon","MailIcon","BullhornIcon","MenuIcon","UserIcon","isSidebarHidden","onToogleSidebar","schoolIcon","alt","schoolName","username","menuAlignment","menuSize","iconPosition","SplashScreen","schoolAlias","setSidebarState","selectedItem","selectItem","toogleSidebar","goTo","body","overflow","role","defaults","baseURL","ReactDOM","StrictMode","fetcher","revalidateOnReconnect","getElementById"],"mappings":"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","file":"static/js/main.ba17c1eb.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst headersAuth = (token: string) => ({ Authorization: `Bearer ${token}` });\r\n\r\nexport default function userFetch() {\r\n  const fetchGetWithToken = async (url: string, token: string) => {\r\n    return await axios.get(url, { headers: headersAuth(token) }).then(data => data.data);\r\n  };\r\n  const fetchGetWithoutToken = async (url: string) => {\r\n    return await axios.get(url).then(data => data.data);\r\n  };\r\n  const fetchPostWithToken = async (url: string, token: string | null, data: any) => {\r\n    return await axios.post(url, data, token ? { headers: headersAuth(token) } : {}).then(data => data.data);\r\n  };\r\n  const fetchPostWithoutToken = async (url: string, data: any) => {\r\n    return await axios.post(url, data).then(data => data.data);\r\n  };\r\n  const fetchPutWithToken = async (url: string, token: string | null, data: any) => {\r\n    return await axios.put(url, data, token ? { headers: headersAuth(token) } : {}).then(data => data.data);\r\n  };\r\n  const fetchPutWithoutToken = async (url: string, data: any) => {\r\n    return await axios.put(url, data).then(data => data.data);\r\n  };\r\n  const fetchDelWithToken = async (url: string, token: string | null) => {\r\n    return await axios.delete(url, token ? { headers: headersAuth(token) } : {}).then(data => data.data);\r\n  };\r\n  const fetchDelWithoutToken = async (url: string) => {\r\n    return await axios.delete(url).then(data => data.data);\r\n  };\r\n  const fetchUploadFile = async (url: string, token: string | null, data: any, progress: (val: number) => void) => {\r\n    return await axios.post(url, data, {\r\n      onUploadProgress: ({ loaded, total }) => {\r\n        return progress(Math.round(loaded / total * 100));\r\n      },\r\n      headers: {\r\n        ...headersAuth(token ? token : \"\"),\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }).then(data => data.data);\r\n  }\r\n  return {\r\n    fetchGetWithToken,\r\n    fetchGetWithoutToken,\r\n    fetchPostWithToken,\r\n    fetchPostWithoutToken,\r\n    fetchPutWithToken,\r\n    fetchPutWithoutToken,\r\n    fetchDelWithToken,\r\n    fetchDelWithoutToken,\r\n    fetchUploadFile\r\n  };\r\n}\r\n","import React, { ReactNode, Dispatch } from \"react\";\r\nimport useStickyState from \"hooks/useStickyState\";\r\nimport { TypeUser } from \"types/userTypes\";\r\n\r\nexport const TokenContext = React.createContext<string | null>(null);\r\n\r\nexport const TokenActionContext = React.createContext<Dispatch<any>>(() => null);\r\n\r\nexport const UserContext = React.createContext<TypeUser>(null);\r\n\r\nexport const UserActionsContext = React.createContext<Dispatch<TypeUser>>(() => null);\r\n\r\nexport default function UserContextProvider({ children }: { children: ReactNode }) {\r\n  const [jwt, updateToken] = useStickyState(null, \"_jwt_\");\r\n  const [user, updateUser] = React.useState<TypeUser>(null);\r\n\r\n  return (\r\n    <TokenActionContext.Provider value={updateToken}>\r\n      <UserActionsContext.Provider value={updateUser}>\r\n        <TokenContext.Provider value={jwt} >\r\n          <UserContext.Provider value={user}>\r\n            {children}\r\n          </UserContext.Provider>\r\n        </TokenContext.Provider>\r\n      </UserActionsContext.Provider>\r\n    </TokenActionContext.Provider>\r\n  );\r\n}","import { useEffect, useState, Dispatch, useCallback } from \"react\";\r\n\r\nexport default function useStickyState(defaultValue: any, key: string): [any, Dispatch<any>] {\r\n  const [value, setValue] = useState(() => {\r\n    const stickyValue = window.localStorage.getItem(key);\r\n    return stickyValue !== null\r\n      ? JSON.parse(stickyValue)\r\n      : defaultValue;\r\n  });\r\n  useEffect(() => {\r\n    window.localStorage.setItem(key, JSON.stringify(value));\r\n  }, [key, value]);\r\n\r\n  const handleStorage = useCallback((event: StorageEvent) => {\r\n    if (event.key === key && event.newValue !== JSON.stringify(value)) {\r\n      setValue(JSON.parse(event.newValue || \"null\") || defaultValue);\r\n    }\r\n  }, [defaultValue, key, value]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('storage', handleStorage);\r\n    return () => window.removeEventListener('storage', handleStorage);\r\n  }, [handleStorage]);\r\n\r\n  return [value, setValue];\r\n}","export const isProduction = String(process.env.NODE_ENV).toLowerCase().includes(\"production\");","import { TypeSchool } from \"types/appTypes\";\r\nimport { isProduction } from \"configurations/variables\";\r\nimport prod_config from \"../config.json\";\r\n\r\nconst default_config: TypeSchool = {\r\n  \"schoolName\": \"UE. Demo School\",\r\n  \"schoolAlias\": \"UE. DSchool\",\r\n  \"schoolAbreviation\": \"DSchool\",\r\n  \"schoolIcon\": \"\"\r\n}\r\n\r\n\r\nexport default isProduction ? default_config : prod_config.school_conf as TypeSchool;\r\n","import React, { ReactNode } from \"react\";\r\nimport { TypeSchool } from \"types/appTypes\";\r\nimport school_config from \"configurations/school\";\r\n\r\nexport const useApp = () => {\r\n  const school = React.useContext(SchoolContext);\r\n  return { school };\r\n}\r\n\r\nexport const SchoolContext = React.createContext<TypeSchool>(school_config);\r\n\r\nexport default function UserContextProvider({ children }: { children: ReactNode }) {\r\n\r\n  return (\r\n    <SchoolContext.Provider value={school_config}>\r\n      {children}\r\n    </SchoolContext.Provider>\r\n  );\r\n}","import { isProduction } from \"configurations/variables\";\r\nimport prod_config from \"../config.json\";\r\n\r\nconst default_api = \"http://localhost:4000\";\r\n\r\nexport const REACT_API_URL = isProduction ? prod_config.api.endpoint : default_api;","import { useEffect, useCallback, useMemo, useContext } from \"react\";\r\nimport useSWR from \"swr\";\r\nimport { TokenContext, TokenActionContext, UserActionsContext } from \"context/UserContext\";\r\nimport { TypeUser } from \"types/userTypes\";\r\n\r\nexport default function useAuth() {\r\n  const token = useContext(TokenContext);\r\n  const updateToken = useContext(TokenActionContext);\r\n  const updateUser = useContext(UserActionsContext);\r\n\r\n  const { data: user, mutate: mutateUser, error } = useSWR(() => {\r\n    return token ? [\"/users/me\", token] : null;\r\n  }, { refreshInterval: 15000 });\r\n\r\n  const isCheckAuth = useMemo(() => token ? (!user && !error) : false, [user, error, token]);\r\n  const isLoggedOut = useMemo(() => token ? Boolean(error && error.message.includes(\"401\")) : true, [error, token]);\r\n  const isThereUser = useMemo(() => Boolean(user), [user]);\r\n\r\n  const removeSession = useCallback(() => {\r\n    updateToken(null);\r\n    updateUser(null);\r\n    return mutateUser(null, true);;\r\n  }, [mutateUser, updateToken, updateUser]);\r\n\r\n  const createSession = useCallback((session: { jwt: string; user: TypeUser; }) => {\r\n    updateToken(session.jwt);\r\n    updateUser(session.user);\r\n    return mutateUser(session, true);\r\n  }, [mutateUser, updateToken, updateUser]);\r\n\r\n  const updateUserWithFetchUser = useCallback((newUser: TypeUser | null) => {\r\n    updateUser(newUser);\r\n    return null;\r\n  }, [updateUser])\r\n\r\n  useEffect(function () {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      if (error) {\r\n        updateUserWithFetchUser(null);\r\n      } else {\r\n        updateUserWithFetchUser(user);\r\n      }\r\n    }\r\n    return () => {\r\n      mounted = false;\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user, error]);\r\n\r\n  return {\r\n    createSession, removeSession,\r\n    isThereUser, isLoggedOut, isCheckAuth\r\n  };\r\n}","import React from \"react\";\r\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\r\nimport BreadcrumbComponent from \"react-rainbow-components/components/Breadcrumb\";\r\nimport BreadcrumbsComponent from \"react-rainbow-components/components/Breadcrumbs\";\r\n\r\ntype PropsBreadcrumbs = RouteComponentProps & {\r\n  breadcrumbs: {\r\n    name: string;\r\n    pathname: string;\r\n  }[];\r\n  className?: string;\r\n};\r\n\r\nfunction Breadcrumbs({ history, breadcrumbs, className }: PropsBreadcrumbs) {\r\n  return (\r\n    <div className='rainbow-p-around_large'>\r\n      <BreadcrumbsComponent>\r\n        {breadcrumbs.map((breadcrumb, index) => (\r\n          <BreadcrumbComponent\r\n            className={className}\r\n            key={index}\r\n            label={breadcrumb.name}\r\n            onClick={() => history.push(breadcrumb.pathname)}\r\n          />\r\n        ))}\r\n      </BreadcrumbsComponent>\r\n    </div>\r\n  );\r\n}\r\nexport default withRouter(Breadcrumbs);","import React from \"react\";\r\nimport useTitle from \"react-use/lib/useTitle\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport Breadcrumbs from \"components/Breadcrums\";\r\n\r\ntype PropsDashboard = RouteComponentProps & {};\r\n\r\nexport default function Dashboard(_: PropsDashboard) {\r\n  useTitle(\"Dashboard\");\r\n\r\n  const breadcrumbs = [\r\n    { name: \"Dashboard\", pathname: \"/dashboard\" }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Breadcrumbs breadcrumbs={breadcrumbs} />\r\n      Dashboard page\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\n\r\nexport default function AddIcon(props: { color?: string }) {\r\n  return (\r\n    <svg viewBox=\"0 0 32 32\" className='icon-svg' fill={props.color || \"black\"}>\r\n      <path d=\"M31 12h-11v-11c0-0.552-0.448-1-1-1h-6c-0.552 0-1 0.448-1 1v11h-11c-0.552 0-1 0.448-1 1v6c0 0.552 0.448 1 1 1h11v11c0 0.552 0.448 1 1 1h6c0.552 0 1-0.448 1-1v-11h11c0.552 0 1-0.448 1-1v-6c0-0.552-0.448-1-1-1z\"></path>\r\n    </svg>\r\n  )\r\n}","type Obj = { [k: string]: any };\r\n\r\nexport function mapToUnderscore(item: string, _index?: number) {\r\n  return String(item).trim().toLowerCase().split(\" \").join(\"_\");\r\n}\r\n\r\nexport function toUnderscore(arg: string) {\r\n  return String(arg).trim().toLowerCase().split(\" \").join(\"_\")\r\n}\r\n\r\nexport function parseDoubleArrToObjArr<T>(arr: any[][]) {\r\n  const doubleArr = [...arr];\r\n  var arrContainChilds = Array.isArray(doubleArr) ? Array.isArray(doubleArr[0]) : false;\r\n  if (arrContainChilds) {\r\n    const arrFields = doubleArr.shift();\r\n    return doubleArr.map((arrItem: any[], index: number) => {\r\n      let obj: any = {};\r\n\r\n      arrFields!.forEach((field, index) => {\r\n        obj[field] = arrItem[index];\r\n      });\r\n\r\n      return { ...obj, id: index };\r\n    });\r\n  }\r\n  return [];\r\n}\r\n\r\nexport function doubleArrExtractValues<T>(arr: any[][], field: string): T[] {\r\n  const doubleArr = [...arr];\r\n  var arrContainChilds = Array.isArray(doubleArr) ? Array.isArray(doubleArr[0]) : false;\r\n  if (arrContainChilds) {\r\n    const arrFields = doubleArr.shift();\r\n    const itemFound = arrFields!.map(mapToUnderscore).findIndex(compareWith(toUnderscore(field)));\r\n    if (itemFound !== -1) {\r\n      return doubleArr.map(arrItem => {\r\n        return arrItem[itemFound];\r\n      });\r\n    }\r\n    return [];\r\n  }\r\n  return [];\r\n}\r\n\r\nfunction compareWith(matchWith: string) {\r\n  return (arg: string) => (arg === matchWith);\r\n}\r\n\r\nexport function doubleArrPushValues(arr: any[][], field: string, fieldValue: any) {\r\n  const doubleArr = [...arr];\r\n  var arrContainChilds = Array.isArray(doubleArr) ? true : false;\r\n\r\n  if (arrContainChilds) {\r\n    let arrFields = doubleArr.shift();\r\n\r\n\r\n    if (binarySearch(arrFields!.map(mapToUnderscore).sort(), toUnderscore(field)) === -1) {\r\n      arrFields = [...arrFields!, field];\r\n    }\r\n\r\n    var itemFound = arrFields!.map(mapToUnderscore).findIndex(compareWith(toUnderscore(field)));\r\n\r\n    return [\r\n      arrFields!,\r\n      ...doubleArr.map((arrItem => {\r\n        arrItem[itemFound] = fieldValue;\r\n        return arrItem;\r\n      }))\r\n    ];\r\n  }\r\n  return [arr];\r\n}\r\n\r\nexport function populateObjRef(obj: Obj, populate: Obj, origin: string, fieldPopulate?: string) {\r\n  let objResult: Obj = {};\r\n  const popuKeys = Object.keys(populate);\r\n\r\n  popuKeys.forEach(function (popuField) {\r\n    const popuValue = populate[popuField];\r\n    const found = popuValue === obj[origin];\r\n    if (found) {\r\n\r\n      if (fieldPopulate === undefined) {\r\n        objResult[origin] = popuValue;\r\n        return popuField;\r\n      }\r\n\r\n      objResult[origin] = populate[fieldPopulate];\r\n      return popuField;\r\n    }\r\n    return popuField;\r\n  });\r\n\r\n  return { ...obj, ...objResult };\r\n}\r\n\r\nexport function populateArrObjRef(objs: Obj[], populates: Obj[], origin: string, fieldPopulate?: string) {\r\n  return objs.map(function (obj) {\r\n    let newObj = obj;\r\n    populates.forEach(function (populate) {\r\n      newObj = populateObjRef(obj, populate, origin, fieldPopulate);\r\n    });\r\n    return newObj;\r\n  });\r\n}\r\n\r\nexport function doubleArrRemoveItem(arr: any[][], field: string, matchValue: string) {\r\n  var arrContainChilds = Array.isArray(arr) ? Array.isArray(arr[0]) : false;\r\n\r\n  if (arrContainChilds) {\r\n    var itemFound = arr[0].map(mapToUnderscore).findIndex(compareWith(toUnderscore(field)));\r\n    if (itemFound !== -1) {\r\n      return arr.filter(arrItem => {\r\n        const hasMatchWith = compareWith(toUnderscore(matchValue));\r\n        return !hasMatchWith(toUnderscore(arrItem[itemFound]));\r\n      });\r\n    }\r\n    return [arr];\r\n  }\r\n  return [arr];\r\n}\r\n\r\nexport function parseObjtArrToDoubleArr(objs: { [key: string]: any }[], arrKeyValidator: string[]) {\r\n  let arr = [arrKeyValidator];\r\n\r\n  objs.forEach(function (obj) {\r\n    if (typeof obj === \"object\") {\r\n      arr.push(parseObjtToArr(obj, arrKeyValidator));\r\n    }\r\n  });\r\n\r\n  return arr;\r\n}\r\n\r\nexport function parseObjtToArr<T>(obj: Obj, arrKeys: string[], defaultValue?: number | string) {\r\n  if (typeof obj === \"object\") {\r\n    return arrKeys.map(function (field) {\r\n      const finded = Object.prototype.hasOwnProperty.call(obj, field);\r\n      if (finded) {\r\n        return obj[field];\r\n      } else {\r\n        if (defaultValue === undefined) {\r\n          return null;\r\n        }\r\n        return defaultValue;\r\n      }\r\n    });\r\n  }\r\n\r\n  return [];\r\n}\r\n\r\nexport function binarySearch(array: number[] | string[], item: number | string) {\r\n\r\n  function recurse(min: number, max: number): number {\r\n\r\n    if (min > max) {\r\n      return -1;\r\n    }\r\n\r\n    var middle = Math.floor((min + max) / 2);\r\n\r\n    if (array[middle] === item) {\r\n      return middle;\r\n    }\r\n\r\n    if (array[middle] > item) {\r\n      return recurse(min, middle - 1);\r\n    }\r\n\r\n    return recurse(middle + 1, max);\r\n  }\r\n\r\n  return recurse(0, array.length - 1);\r\n}\r\n\r\n\r\nexport function binarySearchObject(array: Obj[], field: string, matchValue: number | string) {\r\n\r\n  function recurse(min: number, max: number): number {\r\n\r\n    if (min > max) {\r\n      return -1;\r\n    }\r\n\r\n    var middle = Math.floor((min + max) / 2);\r\n\r\n    if (array[middle][field] === matchValue) {\r\n      return middle;\r\n    }\r\n\r\n    if (array[middle][field] > matchValue) {\r\n      return recurse(min, middle - 1);\r\n    }\r\n\r\n    return recurse(middle + 1, max);\r\n  }\r\n\r\n  return recurse(0, array.length - 1);\r\n}\r\n\r\nexport function sortField(field: string, DESCENDING: boolean = true) {\r\n  return function sort(a: any, b: any) {\r\n    if (DESCENDING) {\r\n      if (a[field] > b[field]) return 1;\r\n      if (a[field] < b[field]) return -1;\r\n      return 0;\r\n    } else {\r\n      if (a[field] > b[field]) return -1;\r\n      if (a[field] < b[field]) return 1;\r\n      return 0;\r\n    }\r\n  }\r\n}\r\n\r\nexport function uniqueArray<T>(arr: T[]): T[] {\r\n  var hashMap: any = {};\r\n  var uniqueArr = [];\r\n\r\n  for (var i = 0; i < arr.length; i++) {\r\n    if (!hashMap.hasOwnProperty(arr[i])) {\r\n      uniqueArr.push(arr[i]);\r\n      hashMap[arr[i]] = i;\r\n    }\r\n  }\r\n\r\n  return uniqueArr;\r\n}","import { useCallback, useMemo, useContext } from \"react\";\r\nimport useSWR from \"swr\";\r\nimport { TokenContext } from \"context/UserContext\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport { parseDoubleArrToObjArr, doubleArrExtractValues } from \"utils/parsersData\";\r\n\r\nexport interface PropsUseElection {\r\n  id?: string\r\n}\r\n\r\nexport interface PropsConfApi {\r\n  dataUrl: string;\r\n  createUrl: string;\r\n  removeUrl: string;\r\n  updateUrl: string;\r\n}\r\n\r\nconst confApi = (id?: string): PropsConfApi => {\r\n  return {\r\n    dataUrl: id ? `/elections/${id}` : \"/elections/\",\r\n    createUrl: id ? `/elections/${id}` : \"/elections/\",\r\n    removeUrl: id ? `/elections/${id}` : \"/elections/\",\r\n    updateUrl: id ? `/elections/${id}` : \"/elections/\"\r\n  };\r\n};\r\n\r\nconst { fetchPutWithToken, fetchPostWithToken, fetchDelWithToken } = useFetch();\r\n\r\nexport default function useElection({ id }: PropsUseElection) {\r\n  const props = confApi(id);\r\n  const jwt = useContext(TokenContext);\r\n\r\n  const api = useSWR(() => {\r\n    return jwt ? [props.dataUrl, jwt] : null;\r\n  }, { refreshInterval: 15000 });\r\n\r\n  const data = useMemo(() => {\r\n    if (typeof api.data === \"object\") {\r\n      return api.data;\r\n    }\r\n    return null;\r\n  }, [api.data]);\r\n\r\n  const isFetching = useMemo(() => !api.error && !api.data, [api.data, api.error]);\r\n  const isFetchError = useMemo(() => api.error, [api.error]);\r\n\r\n  const apiCreate = useCallback(\r\n    async (newData: { [key: string]: any }) => {\r\n      try {\r\n        await fetchPostWithToken(props.createUrl, jwt, newData);\r\n        return await api.revalidate();\r\n      } catch (error) {\r\n        return await api.revalidate();\r\n      }\r\n    },\r\n    [props.createUrl, jwt, api]\r\n  );\r\n\r\n  const apiUpdate = useCallback(\r\n    async (newData: { [key: string]: any }) => {\r\n      try {\r\n        await fetchPutWithToken(props.updateUrl, jwt, newData);\r\n        return await api.revalidate();\r\n      } catch (error) {\r\n        return await api.revalidate();\r\n      }\r\n    },\r\n    [props.updateUrl, jwt, api]\r\n  );\r\n\r\n  const apiRemove = useCallback(\r\n    async (url: string | null, cb: () => void) => {\r\n      try {\r\n        await fetchDelWithToken(url ? url : props.removeUrl, jwt);\r\n        return cb();\r\n      } catch (error) {\r\n        return cb();\r\n      }\r\n    },\r\n    [props.removeUrl, jwt]\r\n  );\r\n\r\n  const getParsedObj = useCallback(\r\n    function (item: string, arr?: any[]) {\r\n      if (arr) {\r\n        return parseDoubleArrToObjArr(arr);\r\n      }\r\n      return parseDoubleArrToObjArr(Boolean(data) ? data[item] : []);\r\n    },\r\n    [data]\r\n  );\r\n\r\n  const getValuesField = useCallback(\r\n    function (item: string, field: string, arrId?: number) {\r\n      if (arrId) {\r\n        return doubleArrExtractValues(Boolean(data[arrId]) ? data[arrId][item] : [], field);\r\n      }\r\n      return doubleArrExtractValues(Boolean(data) ? data[item] : [], field);\r\n    },\r\n    [data]\r\n  );\r\n\r\n  return { apiUpdate, apiRemove, getValuesField, getParsedObj, apiCreate, api, data, isFetching, isFetchError };\r\n}\r\n","import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\";\r\n\r\ntype PropsElectionsContent = {};\r\n\r\nexport default function ElectionsContent(props: PropsElectionsContent) {\r\n  return <ContentLoader\r\n    // viewBox=\"0 0 auto 500\"\r\n    height={300}\r\n    color=\"red\"\r\n    backgroundColor=\"rgb(0, 0, 0, 0.34)\"\r\n    width=\"100%\"\r\n    speed={2}\r\n    {...props}\r\n  >\r\n    <rect x=\"30\" y=\"20\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"30\" y=\"250\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"30\" y=\"275\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"250\" y=\"20\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"250\" y=\"250\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"250\" y=\"275\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"470\" y=\"20\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"470\" y=\"250\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"470\" y=\"275\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"690\" y=\"20\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"690\" y=\"250\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"690\" y=\"275\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"910\" y=\"20\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"910\" y=\"250\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"910\" y=\"275\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"1130\" y=\"20\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"1130\" y=\"250\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"1130\" y=\"275\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"30\" y=\"340\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"30\" y=\"570\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"30\" y=\"595\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"250\" y=\"340\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"250\" y=\"570\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"250\" y=\"595\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"470\" y=\"340\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"470\" y=\"570\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"470\" y=\"595\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"690\" y=\"340\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"690\" y=\"570\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"690\" y=\"595\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"910\" y=\"340\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"910\" y=\"570\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"910\" y=\"595\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n    <rect x=\"1130\" y=\"340\" rx=\"8\" ry=\"8\" width=\"200\" height=\"200\" />\r\n    <rect x=\"1130\" y=\"570\" rx=\"0\" ry=\"0\" width=\"200\" height=\"18\" />\r\n    <rect x=\"1130\" y=\"595\" rx=\"0\" ry=\"0\" width=\"120\" height=\"20\" />\r\n  </ContentLoader>;\r\n}","import React from \"react\";\r\n\r\ntype PropsDisplayError = { message?: string }\r\n\r\nconst defaultMessage = \"Se produjo un error en el servidor\";\r\n\r\nexport default function DisplayError({ message = defaultMessage }: PropsDisplayError) {\r\n  return <div className='display-content-screen'>\r\n    {/* className='display-content-screen-cover' */}\r\n    <p className='display-content-screen-title'>{message}</p>\r\n  </div>\r\n}","import React from \"react\";\r\n\r\nexport default function FreelancerIcon(props: { color?: string; className?: string }) {\r\n  return (\r\n    <svg className={props.className} fill={props.color || \"black\"} width='655' height='413.67951' viewBox='0 0 655 413.67951'>\r\n      <path\r\n        d='M689.063,372.583a122.04116,122.04116,0,0,1,10.10051-38.51722q2.27961-5.09249,5.01812-9.96076a.7438.7438,0,0,0-1.28354-.75026,123.7286,123.7286,0,0,0-13.7678,37.98231q-1.03367,5.58355-1.55378,11.24593c-.08811.95214,1.39893.94613,1.48649,0Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#e6e6e6'\r\n      />\r\n      <circle cx='435.2819' cy='73.9144' r='9.4144' fill='#e6e6e6' />\r\n      <path\r\n        d='M690.026,372.83307a79.17357,79.17357,0,0,1,6.55267-24.98791q1.47888-3.30374,3.25549-6.462a.48254.48254,0,0,0-.83269-.48673,80.26825,80.26825,0,0,0-8.93182,24.6409q-.67059,3.6223-1.008,7.29575c-.05716.6177.90755.6138.96436,0Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#e6e6e6'\r\n      />\r\n      <circle cx='429.66984' cy='93.66195' r='6.10756' fill='#e6e6e6' />\r\n      <path\r\n        d='M688.80883,372.25653a79.17368,79.17368,0,0,1-10.2024-23.73277q-.86592-3.51453-1.40764-7.09749a.48253.48253,0,0,0-.95592.12838,80.26823,80.26823,0,0,0,8.11306,24.92247q1.69918,3.26856,3.69253,6.37254c.33485.5222,1.09311-.07422.76037-.59313Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#e6e6e6'\r\n      />\r\n      <circle cx='403.73518' cy='93.23322' r='6.10756' fill='#e6e6e6' />\r\n      <path\r\n        d='M670.05906,377.66024v-12a4.50508,4.50508,0,0,1,4.5-4.5h28a4.50508,4.50508,0,0,1,4.5,4.5v12a4.50508,4.50508,0,0,1-4.5,4.5h-28A4.50508,4.50508,0,0,1,670.05906,377.66024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <path\r\n        d='M701.55906,301.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,701.55906,301.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='413.05906' y='9.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='413.05906' y='40.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M731.55906,301.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,731.55906,301.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='443.05906' y='9.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='443.05906' y='40.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M761.55906,301.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,761.55906,301.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='473.05906' y='9.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='473.05906' y='40.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M777.55906,382.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,777.55906,382.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='489.05906' y='90.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='489.05906' y='121.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M807.55906,382.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,807.55906,382.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='519.05906' y='90.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='519.05906' y='121.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M837.55906,382.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,837.55906,382.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='549.05906' y='90.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='549.05906' y='121.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M698.55906,463.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,698.55906,463.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='410.05906' y='171.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='410.05906' y='202.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M728.55906,463.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,728.55906,463.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='440.05906' y='171.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='440.05906' y='202.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M758.55906,463.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,758.55906,463.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='470.05906' y='171.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='470.05906' y='202.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M791.55906,301.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,791.55906,301.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='503.05906' y='9.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='503.05906' y='40.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M821.55906,301.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,821.55906,301.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='533.05906' y='9.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='533.05906' y='40.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M851.55906,301.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,851.55906,301.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='563.05906' y='9.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='563.05906' y='40.5' width='20' height='4' fill='#ccc' />\r\n      <path\r\n        d='M881.55906,301.16024h-12a4.50507,4.50507,0,0,1-4.5-4.5v-49a4.50508,4.50508,0,0,1,4.5-4.5h12a4.50508,4.50508,0,0,1,4.5,4.5v49A4.50508,4.50508,0,0,1,881.55906,301.16024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <rect x='593.05906' y='9.5' width='20' height='4' fill='#ccc' />\r\n      <rect x='593.05906' y='40.5' width='20' height='4' fill='#ccc' />\r\n      <path d='M926.5,302.66024h-285a1,1,0,0,1,0-2h285a1,1,0,0,1,0,2Z' transform='translate(-272.5 -243.16024)' fill='#ccc' />\r\n      <path d='M926.5,383.66024h-285a1,1,0,0,1,0-2h285a1,1,0,0,1,0,2Z' transform='translate(-272.5 -243.16024)' fill='#ccc' />\r\n      <path d='M926.5,464.66024h-285a1,1,0,0,1,0-2h285a1,1,0,0,1,0,2Z' transform='translate(-272.5 -243.16024)' fill='#ccc' />\r\n      <path\r\n        d='M854.063,453.583a122.04116,122.04116,0,0,1,10.10051-38.51722q2.27961-5.09249,5.01812-9.96076a.7438.7438,0,0,0-1.28354-.75026,123.7286,123.7286,0,0,0-13.7678,37.98231q-1.03367,5.58355-1.55378,11.24593c-.08811.95214,1.39893.94613,1.48649,0Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#e6e6e6'\r\n      />\r\n      <circle cx='600.2819' cy='154.9144' r='9.4144' fill='#e6e6e6' />\r\n      <path\r\n        d='M855.026,453.83307a79.17357,79.17357,0,0,1,6.55267-24.98791q1.47888-3.30374,3.25549-6.462a.48254.48254,0,0,0-.83269-.48673,80.26825,80.26825,0,0,0-8.93182,24.6409q-.67059,3.6223-1.008,7.29575c-.05716.6177.90755.6138.96436,0Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#e6e6e6'\r\n      />\r\n      <circle cx='594.66984' cy='174.66195' r='6.10756' fill='#e6e6e6' />\r\n      <path\r\n        d='M853.80883,453.25653a79.17368,79.17368,0,0,1-10.2024-23.73277q-.86592-3.51453-1.40764-7.09749a.48253.48253,0,0,0-.95592.12838,80.26823,80.26823,0,0,0,8.11306,24.92247q1.69918,3.26856,3.69253,6.37254c.33485.5222,1.09311-.07422.76037-.59313Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#e6e6e6'\r\n      />\r\n      <circle cx='568.73518' cy='174.23322' r='6.10756' fill='#e6e6e6' />\r\n      <path\r\n        d='M835.05906,458.66024v-12a4.50508,4.50508,0,0,1,4.5-4.5h28a4.50508,4.50508,0,0,1,4.5,4.5v12a4.50508,4.50508,0,0,1-4.5,4.5h-28A4.50508,4.50508,0,0,1,835.05906,458.66024Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <path d='M654.5,606.66024h-381a1,1,0,0,1,0-2h381a1,1,0,0,1,0,2Z' transform='translate(-272.5 -243.16024)' fill='#3f3d56' />\r\n      <circle cx='199.05906' cy='205.5' r='27' fill='#2f2e41' />\r\n      <polygon points='173.405 378.826 172.69 366.588 219.556 358.003 220.612 376.067 173.405 378.826' fill='#ffb8b8' />\r\n      <path\r\n        d='M436.62166,598.16324h23.64387a0,0,0,0,1,0,0v14.88687a0,0,0,0,1,0,0H421.7348a0,0,0,0,1,0,0v0A14.88686,14.88686,0,0,1,436.62166,598.16324Z'\r\n        transform='translate(747.34041 -113.14222) rotate(86.65462)'\r\n        fill='#2f2e41'\r\n      />\r\n      <polygon points='193.789 378.714 186.004 388.185 145.768 362.666 157.257 348.688 193.789 378.714' fill='#ffb8b8' />\r\n      <path\r\n        d='M454.38952,629.78677h23.64386a0,0,0,0,1,0,0v14.88687a0,0,0,0,1,0,0H439.50266a0,0,0,0,1,0,0v0A14.88686,14.88686,0,0,1,454.38952,629.78677Z'\r\n        transform='translate(-597.31958 343.86136) rotate(-50.58212)'\r\n        fill='#2f2e41'\r\n      />\r\n      <path\r\n        d='M443.88663,577.83023l-5.31975,25.07884a4,4,0,0,0,3.84843,4.8295l52.29785.84351a4,4,0,0,0,4.00364-4.69462l-4.57453-25.92236a4,4,0,0,0-3.93914-3.30486H447.79957A4,4,0,0,0,443.88663,577.83023Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#2f2e41'\r\n      />\r\n      <path\r\n        d='M452.55906,586.66024s-51-32-61-15c-5,8.5-2.5,16.75,1.25,22.875a34.63053,34.63053,0,0,0,14.4025,12.89112l41.3475,20.23388,15-16-10-9Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#2f2e41'\r\n      />\r\n      <path d='M478.55906,581.66024s66-19,53,17-62,22-62,22l-5-15,17-12Z' transform='translate(-272.5 -243.16024)' fill='#2f2e41' />\r\n      <circle cx='199.39764' cy='211.66535' r='24.56103' fill='#ffb8b8' />\r\n      <path\r\n        d='M473.18454,585.629a131.99386,131.99386,0,0,1-30.25708-3.98633l-.29248-.08007-13.70556-63.04493a23.2247,23.2247,0,0,1,14.93286-26.94335,80.45969,80.45969,0,0,1,51.29956-1.02442h.00024a23.46956,23.46956,0,0,1,15.635,27.76465l-15.30835,63.19531-.21557.10254C488.91135,584.62606,480.956,585.629,473.18454,585.629Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#ccc'\r\n      />\r\n      <path\r\n        d='M454.77438,590.52651a10.05573,10.05573,0,0,1,14.47536-5.31221l26.98651-23.42452,2.44163,18.40848-26.00117,19.4221a10.11027,10.11027,0,0,1-17.90233-9.09385Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#ffb8b8'\r\n      />\r\n      <path\r\n        d='M480.51218,595.63583a4.53353,4.53353,0,0,1-1.29639-.19043,4.45263,4.45263,0,0,1-2.9624-2.81641l-3.25732-9.22851a4.472,4.472,0,0,1,1.30224-4.90235l36.7688-22.07422L496.573,491.76278l.36865-.08887c.14991-.0371,15.00025-3.417,21.0857,12.81055,4.26147,11.36524,20.03149,36.07715,18.91894,52.77637a14.88461,14.88461,0,0,1-12.322,13.72754l-41.38818,23.71289A4.456,4.456,0,0,1,480.51218,595.63583Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#ccc'\r\n      />\r\n      <path\r\n        d='M484.63609,588.33293a10.05575,10.05575,0,0,0-14.47536-5.31221l-26.9865-23.42452-2.44163,18.40848,26.00117,19.4221a10.11027,10.11027,0,0,0,17.90232-9.09385Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#ffb8b8'\r\n      />\r\n      <path\r\n        d='M461.60593,595.63583a4.456,4.456,0,0,1-2.72388-.93457l-44.38818-21.71289a14.88461,14.88461,0,0,1-12.322-13.72754c-1.11255-16.69922,17.65747-43.41113,21.91894-54.77637,6.085-16.22754,20.93555-12.84863,21.0857-12.81055l.36865.08887L428.051,558.42391l39.7688,20.07422a4.472,4.472,0,0,1,1.30224,4.90235l-3.25732,9.22851a4.45263,4.45263,0,0,1-2.9624,2.81641A4.5348,4.5348,0,0,1,461.60593,595.63583Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#ccc'\r\n      />\r\n      <path\r\n        d='M514.55908,605.66016h-89a7.00818,7.00818,0,0,1-7-7v-49a7.00818,7.00818,0,0,1,7-7h89a7.00817,7.00817,0,0,1,7,7v49A7.00818,7.00818,0,0,1,514.55908,605.66016Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#01b6f5'\r\n      />\r\n      <circle cx='197.55906' cy='331' r='6' fill='#fff' />\r\n      <path\r\n        d='M447.09061,453.82593c-1.45566-3.6923.93266-8.09242,4.47568-9.881s7.81846-1.44843,11.60824-.26964c3.18484.99063,6.16976,2.52588,9.27688,3.73845a20.76152,20.76152,0,0,0,9.75287,1.73691c3.31428-.37431,6.61291-2.23278,7.96907-5.28,1.40574-3.15859.44963-7.01316-1.71516-9.7088a18.79922,18.79922,0,0,0-8.61171-5.5348c-7.3075-2.57443-15.74829-2.64969-22.53234,1.0925s-11.39446,11.7102-9.99219,19.33'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#2f2e41'\r\n      />\r\n      <path\r\n        d='M305.16247,594.9787A122.0417,122.0417,0,0,1,315.263,556.46148q2.27961-5.09249,5.01813-9.96076a.7438.7438,0,0,0-1.28354-.75026,123.72825,123.72825,0,0,0-13.7678,37.98231q-1.03366,5.58356-1.55378,11.24593c-.08811.95214,1.39893.94613,1.48648,0Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#e6e6e6'\r\n      />\r\n      <circle cx='51.38142' cy='296.31007' r='9.4144' fill='#01b6f5' />\r\n      <path\r\n        d='M306.1255,595.22874a79.1741,79.1741,0,0,1,6.55267-24.98791q1.47889-3.30373,3.25549-6.462a.48254.48254,0,0,0-.83269-.48673,80.26852,80.26852,0,0,0-8.93181,24.64089q-.67059,3.62232-1.008,7.29576c-.05716.6177.90755.6138.96435,0Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#e6e6e6'\r\n      />\r\n      <circle cx='45.76935' cy='316.05762' r='6.10756' fill='#01b6f5' />\r\n      <path\r\n        d='M304.90835,594.6522a79.174,79.174,0,0,1-10.20241-23.73277q-.86592-3.51453-1.40763-7.09749a.48253.48253,0,0,0-.95592.12838,80.26809,80.26809,0,0,0,8.11306,24.92246q1.69919,3.26857,3.69252,6.37255c.33485.5222,1.09311-.07422.76038-.59313Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#e6e6e6'\r\n      />\r\n      <circle cx='19.8347' cy='315.62888' r='6.10756' fill='#01b6f5' />\r\n      <path\r\n        d='M286.15857,600.05591v-12a4.50508,4.50508,0,0,1,4.5-4.5h28a4.50508,4.50508,0,0,1,4.5,4.5v12a4.50508,4.50508,0,0,1-4.5,4.5h-28A4.50508,4.50508,0,0,1,286.15857,600.05591Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#f2f2f2'\r\n        style={{isolation: \"isolate\"}}\r\n      />\r\n      <path\r\n        d='M586.90885,614.06085c0,6.57707-5.33178,9.56657-11.90885,9.56657s-11.90885-2.9895-11.90885-9.56657S565.73756,599.80972,575,602.45614C584.26244,598.48652,586.90885,607.48377,586.90885,614.06085Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#ff6584'\r\n      />\r\n      <path\r\n        d='M574.41992,605.53711a1.90366,1.90366,0,0,1-1.89111-1.65918c-.39429-3.28125-2.56763-9.708-3.48364-12.31836l-.00025-.001a1.703,1.703,0,0,1,.22022-1.5664,1.78652,1.78652,0,0,1,2.66333-.19239,1.70477,1.70477,0,0,1,.46826,1.27637c-.17944,3.35059,2.26294,8.76465,3.73486,11.69434a1.90795,1.90795,0,0,1-1.50976,2.75586A1.76339,1.76339,0,0,1,574.41992,605.53711Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#3f3d56'\r\n      />\r\n      <path\r\n        d='M583.232,598.14572c4.13393-3.38342.89056-10.30763-4.28341-8.9784a4.17809,4.17809,0,0,0-1.8637.99416c-3.17381,2.99811-3.66567,10.66906-3.66567,10.66906S579.02377,601.58992,583.232,598.14572Z'\r\n        transform='translate(-272.5 -243.16024)'\r\n        fill='#3f3d56'\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport FreelancerCover from \"icons/FreelancerCover\";\r\n\r\ntype PropsDisplayNoData = { message?: string }\r\n\r\nconst defaultMessage = \"\";\r\n\r\nexport default function DisplayNoData({ message = defaultMessage }: PropsDisplayNoData) {\r\n  return <div className='display-content-screen'>\r\n    <FreelancerCover className='display-content-screen-cover' />\r\n    <p className='display-content-screen-title'>{message}</p>\r\n  </div>\r\n}","import React, { memo } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\n\r\ntype PropsDisplayNotFound = {};\r\n\r\nexport default memo(function DisplayNotFound(_: PropsDisplayNotFound) {\r\n  return <div className='display-content-screen'>\r\n    {/* display-content-screen-cover */}\r\n    <p className='display-content-screen-title'>No encontrado</p>\r\n    <div className=\"display-content-screen-actions\">\r\n      <div className=\"display-content-screen-actions-wrapper\">\r\n        <Link to=\"/elections\">\r\n          <Button label=\"Regresar\" variant=\"brand\" />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n});\r\n","import React, { ReactNode, memo } from \"react\";\r\nimport ElectionsContent from \"./ElectionsContent\";\r\nimport { IContentLoaderProps } from \"react-content-loader\";\r\n\r\nimport DisplayError from \"./DisplayError\";\r\nimport DisplayNoData from \"./DisplayNoData\";\r\nimport DisplayNotFound from \"./DisplayNotFound\";\r\nimport \"./index.css\";\r\n\r\ntype TypeContentShapes = \"elections\";\r\n\r\ntype PropsContentLoader = {\r\n  children?: ReactNode;\r\n  isFetching: any;\r\n  isError: Error | null;\r\n  isNoData: boolean;\r\n  propsContentLoader?: IContentLoaderProps;\r\n  contentScreen: TypeContentShapes;\r\n  messageNoData?: string;\r\n};\r\n\r\nexport default memo(function ContentLoader(props: PropsContentLoader) {\r\n  const noData = !props.isFetching && props.isNoData;\r\n  const notFound = props.isError && props.isError.message.includes(\"404\");\r\n  const error = props.isError && !props.isError.message.includes(\"404\");\r\n\r\n  if (noData) {\r\n    return <DisplayNoData message={props.messageNoData} />;\r\n  }\r\n  if (notFound) {\r\n    return <DisplayNotFound />;\r\n  }\r\n  if (error) {\r\n    return <DisplayError />\r\n  }\r\n  if (props.isFetching) {\r\n    return <ContentShapes shape={props.contentScreen} />\r\n  }\r\n  return <>{props.children}</>;\r\n});\r\n\r\ntype PropsContentShapes = {\r\n  shape: TypeContentShapes,\r\n  propsContent?: IContentLoaderProps\r\n}\r\n\r\nfunction ContentShapes({ shape, propsContent }: PropsContentShapes) {\r\n  switch (shape) {\r\n    case \"elections\":\r\n      return <ElectionsContent {...propsContent} />;\r\n    default:\r\n      return null;\r\n  }\r\n}","import React, { useMemo } from \"react\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Badge from \"react-rainbow-components/components/Badge\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport { TypeElection } from \"types/electionTypes\";\r\nimport \"./index.css\";\r\n\r\ntype PropsCardElection = {\r\n  election: TypeElection;\r\n  getParsedObj: (item: string, arr?: any[]) => any[];\r\n  onClick: (id: any) => void;\r\n  onDelete: (id: any) => Promise<any>;\r\n};\r\n\r\nexport default function CardElection(props: PropsCardElection) {\r\n\r\n  const id = useMemo(() => props.election.id, [props]);\r\n  const isActiveElection = useMemo(() => props.election.status === \"active\", [props]);\r\n\r\n  const campaigns = useMemo(() => props.getParsedObj(\"campaigns\", props.election.campaigns), [props]);\r\n  const candidates = useMemo(() => props.getParsedObj(\"candidates\", props.election.candidates), [props]);\r\n  const voters = useMemo(() => props.getParsedObj(\"voters\", props.election.voters.data), [props]);\r\n  const tags = useMemo(() => props.getParsedObj(\"tags\", props.election.tags), [props]);\r\n\r\n  return <Formik\r\n    initialValues={{}}\r\n    onSubmit={() => props.onDelete(id)}\r\n  >\r\n    {function ({ isSubmitting }) {\r\n      return (\r\n        <Form>\r\n          <div className=\"card-election-container\">\r\n            <div className=\"card-election-pod-title\">\r\n              <p>\r\n                <Badge\r\n                  label={id}\r\n                  variant=\"success\"\r\n                  title=\"ID\"\r\n                />\r\n                <BadgeStatus\r\n                  state={props.election.status}\r\n                />\r\n              </p>\r\n              <h1>{props.election.name}</h1>\r\n            </div>\r\n            <div className=\"card-election-pod-g-stats\">\r\n              <div className=\"card-election-pod-g-stats-minicard\">\r\n                <p>{voters.length}</p>\r\n                <h3>Votantes</h3>\r\n              </div>\r\n              <div className=\"card-election-pod-g-stats-minicard\">\r\n                <p>{campaigns.length}</p>\r\n                <h3>Partidos</h3>\r\n              </div>\r\n              <div className=\"card-election-pod-g-stats-minicard\">\r\n                <p>{tags.length}</p>\r\n                <h3>Etiquetas</h3>\r\n              </div>\r\n              <div className=\"card-election-pod-g-stats-minicard\">\r\n                <p>{candidates.length}</p>\r\n                <h3>Candidatos</h3>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-election-pod-buttons\">\r\n              <div className=\"card-election-buttons-open-delete\">\r\n                <div style={{ padding: 5 }}>\r\n                  <Link to={`/elections/${id}/edit`}>\r\n                    <Button\r\n                      label=\"Abrir\"\r\n                      variant=\"border-inverse\"\r\n                      disabled={isSubmitting}\r\n                    />\r\n                  </Link>\r\n                </div>\r\n                <div style={{ padding: 5 }}>\r\n                  <Button\r\n                    label=\"Borrar\"\r\n                    variant=\"destructive\"\r\n                    type=\"submit\"\r\n                    disabled={isActiveElection || isSubmitting}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <div style={{ padding: 5 }}>\r\n                  <Button\r\n                    label=\"Compartir enlace\"\r\n                    disabled={isSubmitting}\r\n                  />\r\n                </div>\r\n                <div style={{ padding: 5 }}>\r\n                  <Link to={`/elections/${id}/stats`}>\r\n                    <Button\r\n                      label=\"Estadisticas votos\"\r\n                      disabled={isSubmitting}\r\n                    />\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Form>\r\n      );\r\n    }}\r\n  </Formik>\r\n}\r\n\r\nconst BadgeStatus = (props: { state: \"active\" | \"closed\" | \"archived\" | \"no_active\" }) => {\r\n  switch (props.state) {\r\n    case \"archived\":\r\n      return <Badge\r\n        label=\"Cerrado\"\r\n        variant=\"error\"\r\n        title=\"Cerrado\"\r\n      />\r\n    case \"closed\":\r\n      return <Badge\r\n        label=\"Cerrado\"\r\n        variant=\"error\"\r\n        title=\"Cerrado\"\r\n      />\r\n    case \"active\":\r\n      return <Badge\r\n        label=\"Activo\"\r\n        variant=\"warning\"\r\n        title=\"Activo\"\r\n      />\r\n    default:\r\n      return <Badge\r\n        label=\"No activo\"\r\n        variant=\"inverse\"\r\n        title=\"No activo\"\r\n      />\r\n  }\r\n}","export function uuidv4(): string {\r\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n    var r = (Math.random() * 16) | 0,\r\n      v = c === \"x\" ? r : (r & 0x3) | 0x8;\r\n    return v.toString(16);\r\n  });\r\n}\r\n","import { TypeTagArr, TypeCandidateArr, TypeElection, TypeCampaignArr, TypeCampaignObj, TypeCandidateObj, TypeCargo } from \"types/electionTypes\";\r\n\r\n// export const votersDataModel: TypeVoterArr =\r\n//   [\"name\", \"second_name\", \"surname\", \"second_surname\", \"ci\", \"enrollmentcode\", \"tag_slug\", \"idukay_code\"];\r\n\r\nexport const tagsDataModel: TypeTagArr =\r\n  [\"name\", \"slug\"];\r\n\r\nexport const candidatesDataModel: TypeCandidateArr =\r\n  [\"slug\", \"names\", \"surnames\", \"cargo\", \"course\", \"campaign_slug\"];\r\n\r\nexport const campaignsDataModel: TypeCampaignArr =\r\n  [\"name\", \"slug\", \"cover_image\", \"logo_image\", \"commitments_file\"];\r\n\r\nexport const defaultCampaign: TypeCampaignObj = {\r\n  name: \"\",\r\n  slug: \"\",\r\n  cover_image: null,\r\n  logo_image: null,\r\n  commitments_file: null\r\n}\r\n\r\nexport const defaultCargo: TypeCargo = {\r\n  alias: \"\",\r\n  slug: \"\"\r\n}\r\n\r\nexport const defaultCandidate: TypeCandidateObj = {\r\n  slug: \"\",\r\n  names: \"\",\r\n  surnames: \"\",\r\n  course: \"\",\r\n  cargo: \"\",\r\n  campaign_slug: \"\"\r\n}\r\n\r\nexport const defaultElection: TypeElection = {\r\n  name: \"\",\r\n  uid: \"\",\r\n  cover_image: {},\r\n  status: \"no_active\",\r\n  cargos: [],\r\n  voters: {\r\n    fields: [],\r\n    data: []\r\n  },\r\n  tags: [tagsDataModel],\r\n  candidates: [candidatesDataModel],\r\n  campaigns: [campaignsDataModel],\r\n  first_auth: { active: false, field: \"\", name: \"\" },\r\n  second_auth: { active: false, field: \"\", name: \"\" }\r\n};","import React from \"react\";\r\nimport { Formik, Form } from \"formik\";\r\nimport Modal from \"react-rainbow-components/components/Modal\";\r\nimport Input from \"react-rainbow-components/components/Input\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport { uuidv4 } from \"utils/createUID\";\r\nimport { defaultElection } from \"models/election\";\r\nimport { TypeElection } from \"types/electionTypes\";\r\n\r\ntype PropsModalCreateElection = {\r\n  isOpen: boolean;\r\n  createElection: (val: TypeElection, cb: () => void) => Promise<void>;\r\n  onClose: React.Dispatch<React.SetStateAction<boolean>>;\r\n};\r\n\r\nexport default function ModalCreateElection({ isOpen = false, onClose, createElection }: PropsModalCreateElection) {\r\n  return <Modal title='Nombre para la nueva elección' size='small' isOpen={isOpen} onRequestClose={() => onClose(false)}>\r\n    <Formik\r\n      initialValues={defaultElection}\r\n      onSubmit={(election) => {\r\n        const uid = uuidv4();\r\n        return createElection({ ...election, uid }, () => onClose(false));\r\n      }}\r\n    >\r\n      {function ({ isSubmitting, values, setFieldValue }) {\r\n        return (\r\n          <Form>\r\n            <Input\r\n              type='text'\r\n              value={values.name}\r\n              placeholder='Ej: Elecciones 2020'\r\n              style={{ margin: \"0 auto\", maxWidth: 250 }}\r\n              onChange={({ target: { value } }) => {\r\n                return setFieldValue(\"name\", value);\r\n              }}\r\n            />\r\n            <div className='rainbow-p-vertical_large rainbow-align-content_center rainbow-flex_wrap'>\r\n              <Button className='rainbow-m-horizontal_medium' label='Cancelar' disabled={isSubmitting} variant='neutral' onClick={() => onClose(false)} />\r\n              <Button className='rainbow-m-horizontal_medium' label='Crear' disabled={isSubmitting} variant='brand' type='submit' />\r\n            </div>\r\n          </Form>\r\n        );\r\n      }}\r\n    </Formik>\r\n  </Modal>\r\n}","import React, { useState, memo } from \"react\";\r\nimport useTitle from \"react-use/lib/useTitle\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport Breadcrumbs from \"components/Breadcrums\";\r\nimport AddIcon from \"icons/AddIcon\";\r\nimport useElection from \"hooks/useElection\";\r\nimport ContentLoader from \"components/ContentLoader\";\r\nimport CardElection from \"components/Card/CardElection\";\r\nimport ModalCreateElection from \"components/Modals/ModalCreateElection\";\r\nimport { TypeElection } from \"types/electionTypes\";\r\nimport \"./index.css\";\r\n\r\nconst breadcrumbs = [{ name: \"Elecciones\", pathname: \"/elections\" }];\r\n\r\ntype PropsElections = RouteComponentProps & {};\r\n\r\nexport default memo(function Elections(props: PropsElections) {\r\n  useTitle(\"Elecciones\");\r\n  const {\r\n    api,\r\n    data,\r\n    isFetching,\r\n    isFetchError,\r\n    apiCreate,\r\n    apiRemove,\r\n    getParsedObj,\r\n  } = useElection({});\r\n\r\n  const [isOpenCreateElection, openCreateElection] = useState<boolean>(false);\r\n\r\n  const elections: TypeElection[] = Array.isArray(data) ? data : [];\r\n\r\n  const handleEditElection = (id: any) => {\r\n    return props.history.push(`/elections/${id}/edit`);\r\n  };\r\n\r\n  const createElection = async (val: TypeElection, cb: () => void) => {\r\n    try {\r\n      await apiCreate(val);\r\n      await api.revalidate();\r\n      return cb();\r\n    } catch (error) {\r\n      await api.revalidate();\r\n      return cb();\r\n    }\r\n  };\r\n\r\n  const deleteElection = async (id: any) => {\r\n    try {\r\n      return await apiRemove(`/elections/${id}`, () => {\r\n        return api.mutate(null, true);\r\n      });\r\n    } catch (error) {\r\n      return await api.mutate(null, true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className='breadcrumbs-with-button'>\r\n        <Breadcrumbs breadcrumbs={breadcrumbs} />\r\n        <button onClick={() => openCreateElection(true)} className='btn-right-breadcrumb'>\r\n          <AddIcon />\r\n          Nueva elecci&oacute;n\r\n        </button>\r\n      </div>\r\n      <ContentLoader\r\n        isFetching={isFetching}\r\n        isError={isFetchError}\r\n        isNoData={elections ? elections.length === 0 : false}\r\n        contentScreen='elections'\r\n        messageNoData='Para crear una nueva, ve al botón [Nueva Elección]'>\r\n        <div>\r\n          {elections.map((election, index) => (\r\n            <CardElection\r\n              key={index}\r\n              election={election}\r\n              onDelete={deleteElection}\r\n              getParsedObj={getParsedObj}\r\n              onClick={handleEditElection}\r\n            />\r\n          ))}\r\n        </div>\r\n      </ContentLoader>\r\n      <ModalCreateElection\r\n        isOpen={isOpenCreateElection}\r\n        onClose={openCreateElection}\r\n        createElection={createElection}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import React, { ReactNode, useState, memo } from \"react\";\r\nimport Tab from \"react-rainbow-components/components/Tab\";\r\nimport Tabset from \"react-rainbow-components/components/Tabset\";\r\nimport \"./index.css\";\r\n\r\ntype PropsTabs = {\r\n  children?: ReactNode;\r\n  tabs: {\r\n    id: string;\r\n    name: string;\r\n    icon?: ReactNode;\r\n  }[];\r\n  initialTab?: number;\r\n  onSelectTab: (tab: number) => void;\r\n};\r\n\r\nexport default memo(function Tabs(props: PropsTabs) {\r\n  const initialTab = props.initialTab || 0;\r\n  const [currentTab, setCurrentTab] = useState<number>(initialTab);\r\n\r\n  const navigateTab = (_e: React.MouseEvent<HTMLElement, MouseEvent>, tabId: string) => {\r\n    const tabIndex = props.tabs.findIndex(tab => tab.id === tabId);\r\n    props.onSelectTab(tabIndex);\r\n    return setCurrentTab(tabIndex);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tabset onSelect={navigateTab} activeTabName={props.tabs[currentTab].id} className='rainbow-p-horizontal_x-large'>\r\n        {props.tabs.map((tab, index) => (\r\n          <Tab\r\n            key={index}\r\n            name={tab.id}\r\n            label={\r\n              <span>\r\n                {tab.icon} {tab.name.toLocaleUpperCase()}\r\n              </span>\r\n            }\r\n          />\r\n        ))}\r\n      </Tabset>\r\n      <section className='tab-content'>{props.children}</section>\r\n    </>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport ButtonGroupPick from 'react-rainbow-components/components/ButtonGroupPicker';\r\nimport ButtonOption from 'react-rainbow-components/components/ButtonOption';\r\n\r\ntype PropsButtonGroupPicker = {\r\n  title: string;\r\n  disabled: boolean;\r\n  itemPicked: string;\r\n  pickList: { show: string, value: string }[];\r\n  onPick: (pickItem: string) => void;\r\n};\r\n\r\nexport default function ButtonGroupPicker({ title = \"\", disabled = false, itemPicked = \"no_one\", onPick, pickList = [] }: PropsButtonGroupPicker) {\r\n\r\n  return <ButtonGroupPick\r\n    label={<h1>{title}</h1>}\r\n    value={itemPicked}\r\n    onChange={(value) => {\r\n      return onPick(value as string)\r\n    }}\r\n    name=\"filter\"\r\n    size=\"medium\"\r\n    bottomHelpText=\"Selecciona una opción\"\r\n  >\r\n    {\r\n      pickList.map((item, key) => (\r\n        < ButtonOption disabled={disabled} key={key} label={item.show} name={item.value} />\r\n      ))\r\n    }\r\n    {\r\n      itemPicked === \"no_one\" && <ButtonOption disabled={disabled} label=\"Ninguno\" name=\"no_one\" />\r\n    }\r\n  </ButtonGroupPick>\r\n}","import React, { useState, useEffect, memo } from \"react\";\r\nimport { useDebounce } from \"react-use\";\r\n\r\ntype PropsInputFetch = {\r\n  beforeChange: ((val: any) => void) | null;\r\n  placeholder?: string;\r\n  onChange: (val: any) => Promise<any>;\r\n  initialValue: string;\r\n  resolveData: (val: string) => any;\r\n};\r\n\r\nexport default memo(function InputFetch(props: PropsInputFetch) {\r\n  const [inputState, setInputState] = useState<string>(() => props.initialValue);\r\n\r\n  const [, cancelDebounceRequest] = useDebounce(\r\n    async () => {\r\n      if (inputState) {\r\n        const data = props.resolveData(inputState);\r\n        try {\r\n          await props.onChange(data);\r\n          return props.beforeChange ? props.beforeChange(data) : null;\r\n        } catch (error) {\r\n          return props.beforeChange ? props.beforeChange(data) : null;\r\n        }\r\n      }\r\n      return null;\r\n    },\r\n    800,\r\n    [inputState]\r\n  );\r\n\r\n  useEffect(\r\n    function () {\r\n      return () => cancelDebounceRequest();\r\n    },\r\n    [cancelDebounceRequest]\r\n  );\r\n\r\n  return <input\r\n    placeholder={props.placeholder}\r\n    value={inputState}\r\n    onChange={({ target: { value } }) => setInputState(value)}\r\n    type='text'\r\n  />;\r\n});\r\n","import React, { ReactNode, useCallback, useContext } from \"react\";\r\nimport { TypeElection } from \"types/electionTypes\";\r\n\r\ntype MutateProperties = (data: any, shouldRevalidate?: boolean | undefined) => Promise<any>;\r\n\r\nexport const useTheElection = () => {\r\n  const theElection = useContext(TheElectionContext) as TypeElection;\r\n  const mutate = useContext(TheElectionMutateContext) as MutateProperties;\r\n\r\n  const mutateTheElectionWith = useCallback(mutate, []);\r\n\r\n  return { theElection, mutateTheElectionWith };\r\n}\r\n\r\nexport const TheElectionMutateContext = React.createContext<MutateProperties | null>(null);\r\n\r\nexport const TheElectionContext = React.createContext<TypeElection | null>(null);\r\n\r\nexport const TheElectionIdContext = React.createContext<any>(null);\r\n\r\nexport default function TheElectionContextProvider(\r\n  { children, id: TheElectionId, value: TheElectionValue, mutate: TheElectionMutate }:\r\n    { id: any; value: TypeElection; children: ReactNode; mutate?: MutateProperties; }\r\n) {\r\n\r\n  return (\r\n    <TheElectionIdContext.Provider value={TheElectionId}>\r\n      <TheElectionContext.Provider value={TheElectionValue}>\r\n        <TheElectionMutateContext.Provider value={TheElectionMutate ? TheElectionMutate : null}>\r\n          {children}\r\n        </TheElectionMutateContext.Provider>\r\n      </TheElectionContext.Provider>\r\n    </TheElectionIdContext.Provider>\r\n  );\r\n}","import { useState, useCallback, useEffect } from \"react\";\r\n\r\nexport type StatusOptions = \"idle\" | \"pending\" | \"success\" | \"error\";\r\n\r\ntype ExecFunction<T> = (...arg: T[]) => void;\r\n\r\ntype AsyncFunction = (...arg: any[]) => Promise<any>;\r\n\r\ntype ReturnUseAsync<T> = {\r\n  execute: ExecFunction<T>;\r\n  status: StatusOptions;\r\n  error: Error | null;\r\n  value: T;\r\n};\r\n\r\nexport default function useAsync<T>(asyncFunction: AsyncFunction, immediate: boolean = true): ReturnUseAsync<T> {\r\n  const [status, setStatus] = useState<StatusOptions>('idle');\r\n  const [value, setValue] = useState<any>(null);\r\n  const [error, setError] = useState<Error | null>(null);\r\n\r\n  // The execute function wraps asyncFunction and\r\n  // handles setting state for pending, value, and error.\r\n  // useCallback ensures the below useEffect is not called\r\n  // on every render, but only if asyncFunction changes.\r\n  const execute: ExecFunction<T> = useCallback(async (props) => {\r\n    setStatus('pending');\r\n    setValue(null);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await asyncFunction(props);\r\n      setValue(response);\r\n      setStatus('success');\r\n      return null;\r\n    } catch (error) {\r\n      setError(error);\r\n      setStatus('error');\r\n      return null;\r\n    }\r\n\r\n  }, [asyncFunction]);\r\n\r\n  // Call execute if we want to fire it right away.\r\n  // Otherwise execute can be called later, such as\r\n  // in an onClick handler.\r\n  useEffect(() => {\r\n    if (immediate) {\r\n      execute();\r\n    }\r\n  }, [execute, immediate]);\r\n\r\n  return { execute, status, value, error };\r\n\r\n}","export type TypeValidations = { [k: string]: { required: boolean; length: number } };\r\n\r\nexport function validationMessages<T>(validations: TypeValidations, object: { [k: string]: any }) {\r\n  return Object.entries(validations).reduce((errors: { [k: string]: any }, [property, requirements]) => {\r\n    errors[property] = []\r\n    if (requirements.required) {\r\n      const errorMessage = validateRequiredMessage(object[property])\r\n      if (errorMessage) errors[property].push(errorMessage)\r\n    }\r\n\r\n    if (requirements.length) {\r\n      const errorMessage = validateLengthMessage(object[property], requirements.length)\r\n      if (errorMessage) errors[property].push(errorMessage)\r\n    }\r\n\r\n    return errors\r\n  }, {})\r\n}\r\n\r\nexport function checkErrors(errors: { [k: string]: any }) {\r\n  let hasError = false;\r\n  Object.entries(errors).forEach(([property, messages]) => {\r\n    messages.forEach((message: string) => {\r\n      hasError = true;\r\n    });\r\n  });\r\n  return hasError;\r\n}\r\n\r\nexport function printErrors(errors: { [k: string]: any }) {\r\n  Object.entries(errors).forEach(([property, messages]) => {\r\n    messages.forEach((message: string) => {\r\n      console.error(`${property} ${message}`)\r\n    })\r\n  })\r\n}\r\n\r\nfunction validateLengthMessage(value: any, length: number) {\r\n  if (value == null) return\r\n  if (value.length >= length) return\r\n\r\n  return `must be ${length} or more characters`\r\n}\r\n\r\nfunction validateRequiredMessage(value: any) {\r\n  if (value) return\r\n  return 'is required'\r\n}","import React, { useEffect, memo, useState, useMemo, Fragment } from \"react\";\r\nimport Modal from \"react-rainbow-components/components/Modal\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport Input from \"react-rainbow-components/components/Input\";\r\nimport { useTheElection } from \"context/TheElectionContext\";\r\nimport useAsync from \"hooks/useAsync\";\r\nimport { validationMessages, TypeValidations, checkErrors } from \"utils/validators\";\r\nimport { uuidv4 } from \"utils/createUID\";\r\nimport { defaultCargo } from \"models/election\";\r\nimport { TypeCargo, TypeElectionFunc } from \"types/electionTypes\";\r\n\r\n\r\nconst validators: TypeValidations = {\r\n  alias: { length: 5, required: true }\r\n};\r\n\r\ntype PropsModalCargo = {\r\n  slug: string | null;\r\n  isOpen: boolean;\r\n  createOrUpdate: (newElection: TypeElectionFunc) => Promise<any>;\r\n  cancel: () => void;\r\n};\r\n\r\nexport default memo(function ModalCargo({ isOpen = false, slug, createOrUpdate, cancel }: PropsModalCargo) {\r\n  const { theElection } = useTheElection();\r\n  const cargos = useMemo(() => theElection.cargos, [theElection.cargos]);\r\n\r\n  const isModalOpen = useMemo(() => isOpen, [isOpen]);\r\n  const candidateSlug = useMemo(() => slug, [slug]);\r\n  const taskFunction = useMemo(() => createOrUpdate, [createOrUpdate]);\r\n  const cancelFunction = useMemo(() => cancel, [cancel]);\r\n\r\n  return <Fragment>\r\n    {\r\n      isModalOpen ? <ContainerModal\r\n        isOpen\r\n        modalTitle=\"Agregar cargo\"\r\n        cargos={cargos}\r\n        slug={candidateSlug}\r\n        createOrUpdate={taskFunction}\r\n        cancel={cancelFunction}\r\n      /> : null\r\n    }\r\n  </Fragment>\r\n});\r\n\r\nfunction ContainerModal({ isOpen = false, modalTitle, slug, createOrUpdate, cargos, cancel }:\r\n  PropsModalCargo & { cargos: TypeCargo[], modalTitle: string }) {\r\n  const asyncCreateOrUpdate = useAsync(createOrUpdate, false);\r\n\r\n  const theCargo = cargos.find(cargo => cargo.slug === slug) || defaultCargo;\r\n  const [currCargo, setCurrCargo] = useState({ ...theCargo });\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      if (asyncCreateOrUpdate.status === \"success\") {\r\n        return cancel();\r\n      }\r\n    }\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [asyncCreateOrUpdate.status, cancel]);\r\n\r\n\r\n  function cannotSave() {\r\n    const errors = validationMessages(validators, currCargo);\r\n    const hasError = checkErrors(errors);\r\n    return hasError;\r\n  }\r\n\r\n  function saveCandidate() {\r\n    let crgs = [...cargos];\r\n    const cargoindex = crgs.findIndex(crgs => crgs.slug === currCargo.slug);\r\n\r\n    if (cargoindex !== -1) {\r\n      crgs[cargoindex] = currCargo;\r\n    } else {\r\n      crgs.push({ ...currCargo, slug: uuidv4() });\r\n    }\r\n\r\n    return asyncCreateOrUpdate.execute({\r\n      cargos: crgs\r\n    });\r\n  }\r\n\r\n  return <Modal\r\n    title={modalTitle}\r\n    size='small'\r\n    footer={\r\n      <div className='rainbow-align-content_center rainbow-flex_wrap'>\r\n        <Button\r\n          label='Cancelar'\r\n          disabled={asyncCreateOrUpdate.status !== \"idle\"}\r\n          onClick={cancel}\r\n          variant='destructive'\r\n          className='rainbow-m-horizontal_medium'\r\n        />\r\n        <Button\r\n          label='Guardar'\r\n          disabled={cannotSave() || asyncCreateOrUpdate.status !== \"idle\"}\r\n          onClick={saveCandidate}\r\n          variant='success'\r\n          className='rainbow-m-horizontal_medium'\r\n        />\r\n      </div>\r\n    }\r\n    isOpen={isOpen}\r\n    onRequestClose={asyncCreateOrUpdate.status !== \"idle\" ? undefined : cancel}\r\n  >\r\n    < div className='elections-tabs-view-section' >\r\n      <div className=\"list-items-row\">\r\n        <Input\r\n          label=\"Nombre del cargo\"\r\n          placeholder=\"---\"\r\n          type=\"text\"\r\n          style={{ maxWidth: 230 }}\r\n          className=\"rainbow-m-vertical_x-large rainbow-p-horizontal_medium rainbow-m_auto\"\r\n          name=\"cargo\"\r\n          value={currCargo.alias}\r\n          onChange={({ target: { value } }) => {\r\n            return setCurrCargo({ ...currCargo, alias: value });\r\n          }}\r\n        />\r\n      </div>\r\n    </div >\r\n  </Modal >\r\n}","import React from \"react\";\r\nimport { TypeCargo } from \"types/electionTypes\";\r\nimport \"./index.css\";\r\n\r\ntype PropsListCargos = {\r\n  cargos: TypeCargo[];\r\n  editCargo: (slug: string | null) => void;\r\n}\r\n\r\nexport default function ListCargos({ cargos, editCargo }: PropsListCargos) {\r\n\r\n  return <div className=\"list-items-row cargo-container\">\r\n    {\r\n      cargos.map((cargo, index) => (\r\n        <span className=\"rainbow-m-around_medium cargo-badge\" key={index} onClick={() => editCargo(cargo.slug)}>\r\n          <span>{cargo.alias}</span>\r\n        </span>\r\n      ))\r\n    }\r\n  </div>\r\n}","import React, { useCallback, useMemo, useState } from \"react\";\r\nimport { useAsyncFn } from \"react-use\";\r\nimport ButtonGroupPicker from \"components/ButtonGroupPicker\";\r\nimport InputFetch from \"components/InputFetch\";\r\nimport ModalCargo from \"components/Modals/ModalCargo\";\r\nimport ListCargos from \"components/Lists/ListCargos\";\r\nimport { useTheElection } from \"context/TheElectionContext\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport RadioGroup from \"react-rainbow-components/components/RadioGroup\";\r\nimport { TypeElectionFunc, TypeStatusElection } from \"types/electionTypes\";\r\n\r\n// [x] Button Star/Stop election votes \r\n// [x] Create cargos candidates\r\n\r\ntype PropsTabSettings = {\r\n  updateElection: (newElection: TypeElectionFunc) => Promise<any>\r\n};\r\n\r\nconst pickStatusList: { show: string, value: TypeStatusElection }[] = [\r\n  { show: \"Activo\", value: \"active\" },\r\n  { show: \"No activo\", value: \"no_active\" },\r\n  { show: \"Cerrado\", value: \"closed\" }\r\n];\r\n\r\nexport default function TabSettings({ updateElection }: PropsTabSettings) {\r\n  const { theElection } = useTheElection();\r\n  const [stateAsyncUpdate, execAsyncUpdate] = useAsyncFn(updateElection, []);\r\n  const cargos = useMemo(() => theElection.cargos, [theElection.cargos]);\r\n  const selectFieldsList = useMemo(() => theElection.voters.fields.map(field =>\r\n    ({ value: field, label: field, disabled: stateAsyncUpdate.loading })), [stateAsyncUpdate.loading, theElection]);\r\n\r\n  const [first_auth, setFirst_auth] = useState(theElection.first_auth);\r\n  const [second_auth, setSecond_auth] = useState(theElection.second_auth);\r\n\r\n  const [statusPicked, pickStatus] = useState<TypeStatusElection>(theElection.status);\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [slugCampaign, setSlugCampaign] = useState<string | null>(null);\r\n\r\n  const openModal = useCallback((slug: string | null) => {\r\n    setSlugCampaign(slug);\r\n    setModalOpen(true);\r\n  }, []);\r\n\r\n  const closeModal = useCallback(() => {\r\n    setSlugCampaign(null);\r\n    setModalOpen(false);\r\n  }, []);\r\n\r\n  console.log({ theElection });\r\n\r\n  return <div>\r\n    <ModalCargo\r\n      isOpen={isModalOpen}\r\n      createOrUpdate={updateElection}\r\n      cancel={closeModal}\r\n      slug={slugCampaign}\r\n    />\r\n    <div className='elections-tabs-view-section'>\r\n      <section>\r\n        <ButtonGroupPicker\r\n          title=\"Estado eleccion\"\r\n          disabled={stateAsyncUpdate.loading}\r\n          itemPicked={statusPicked}\r\n          onPick={(iPicked) => {\r\n            pickStatus(iPicked as TypeStatusElection);\r\n            return execAsyncUpdate({\r\n              status: statusPicked\r\n            });\r\n          }}\r\n          pickList={pickStatusList}\r\n        />\r\n      </section>\r\n      <section className=\"list-items-col\" style={{ textAlign: \"center\" }}>\r\n        <div>\r\n          <Button label=\"Crear cargo\" onClick={() => openModal(null)} />\r\n        </div>\r\n        <ListCargos\r\n          cargos={cargos}\r\n          editCargo={openModal}\r\n        />\r\n      </section>\r\n      <section className=\"list-items-row\">\r\n        <div className=\"list-items-col\">\r\n          <InputFetch\r\n            beforeChange={null}\r\n            placeholder=\"Primera validación\"\r\n            initialValue={first_auth.name}\r\n            onChange={(first_auth) => {\r\n              return execAsyncUpdate({\r\n                first_auth\r\n              });\r\n            }}\r\n            resolveData={(value) => ({\r\n              ...first_auth,\r\n              name: value\r\n            })}\r\n          />\r\n          <RadioGroup\r\n            id=\"radio-group-component-1\"\r\n            options={selectFieldsList}\r\n            value={first_auth.field}\r\n            className=\"isActive\"\r\n            // @ts-ignore\r\n            onChange={({ target: { value } }) => {\r\n              const new_first_auth = { ...first_auth, field: value };\r\n              setFirst_auth(new_first_auth);\r\n              return execAsyncUpdate({\r\n                first_auth: new_first_auth\r\n              });\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"list-items-col\">\r\n          <InputFetch\r\n            beforeChange={null}\r\n            placeholder=\"Segunda validación\"\r\n            initialValue={second_auth.name}\r\n            onChange={(second_auth) => {\r\n              return execAsyncUpdate({\r\n                second_auth\r\n              });\r\n            }}\r\n            resolveData={(value) => ({\r\n              ...second_auth,\r\n              name: value\r\n            })}\r\n          />\r\n          <RadioGroup\r\n            id=\"radio-group-component-1\"\r\n            options={selectFieldsList}\r\n            value={second_auth.field}\r\n            className=\"isActive\"\r\n            // @ts-ignore\r\n            onChange={({ target: { value } }) => {\r\n              const new_second_auth = { ...second_auth, field: value };\r\n              setSecond_auth(new_second_auth);\r\n              return execAsyncUpdate({\r\n                second_auth: new_second_auth\r\n              });\r\n            }}\r\n          />\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n}","import React, { useState } from \"react\";\r\nimport FileSelector from \"react-rainbow-components/components/FileSelector\";\r\n\r\ntype PropsPickFile = {\r\n  fileType: string;\r\n  accept?: string;\r\n  success: (file: File | null) => void;\r\n  onError: (val: Error) => void;\r\n}\r\n\r\nconst fileExtensionMatch = (inputFileExt: string, fileAccept: string | undefined, cb: (hasMatch: boolean) => void) => {\r\n  if (fileAccept) {\r\n    return cb(fileAccept.toLowerCase().split(',').includes(inputFileExt.toLowerCase()));\r\n  }\r\n  return cb(true);\r\n}\r\n\r\nexport default function PickFile(props: PropsPickFile) {\r\n  const [isDisablePicker, setIsDisablePicker] = useState<boolean>(false);\r\n\r\n\r\n  const handlePickFile = async (files: FileList) => {\r\n    if (files) {\r\n      setIsDisablePicker(true);\r\n      try {\r\n        const file = files[0];\r\n        if (!file) {\r\n          props.success(null);\r\n          return setIsDisablePicker(false);\r\n        };\r\n        const fileName = file.name;\r\n        const extension = fileName.substring(fileName.lastIndexOf('.'), fileName.length);\r\n        return fileExtensionMatch(extension, props.accept, (hasMatch) => {\r\n          if (hasMatch) {\r\n            props.success(file);\r\n            return setIsDisablePicker(false);\r\n          }\r\n          props.onError(new Error(\"Archivo no válido\"));\r\n          return setIsDisablePicker(false);\r\n        });\r\n      } catch (error) {\r\n        props.onError(error);\r\n        return setIsDisablePicker(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  return <div className=\"container-file-selector\">\r\n    <FileSelector\r\n      variant=\"inline\"\r\n      disabled={isDisablePicker}\r\n      onChange={handlePickFile}\r\n      label=\"Selector de archivos\"\r\n      placeholder=\"Subir archivo\"\r\n      bottomHelpText={props.fileType}\r\n      accept={props.accept}\r\n    />\r\n  </div>\r\n}","import React, { ReactNode } from \"react\";\r\nimport TableWithBrowserPagination from \"react-rainbow-components/components/TableWithBrowserPagination\";\r\nimport Column from \"react-rainbow-components/components/Column\";\r\n\r\ntype PropsTableWithPagination = {\r\n  limit?: number;\r\n  fields: string[];\r\n  data: any[];\r\n  keyField: string;\r\n  children?: ReactNode;\r\n}\r\n\r\nexport default function TableWithPagination({ keyField, fields = [], data = [], limit = 5, children }: PropsTableWithPagination) {\r\n\r\n  const columns = fields.map((field, key) => (\r\n    <Column key={key} header={field} field={field} />\r\n  ));\r\n\r\n\r\n  return <div>\r\n    <TableWithBrowserPagination\r\n      minColumnWidth={150}\r\n      pageSize={limit}\r\n      data={data}\r\n      keyField={keyField}\r\n    >\r\n      {columns}\r\n      {children}\r\n    </TableWithBrowserPagination>\r\n  </div>\r\n\r\n}","import React, { useEffect, memo, useState, useMemo, Fragment } from \"react\";\r\nimport PickFile from \"components/PickFile\";\r\nimport Modal from \"react-rainbow-components/components/Modal\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport TableWithPagination from \"components/TableWithPagination\";\r\nimport useAsync from \"hooks/useAsync\";\r\nimport excelToJSON, { convertSheetsToObjArr } from \"utils/excelToJSON\";\r\nimport { parseObjtArrToDoubleArr } from \"utils/parsersData\";\r\nimport { tagsDataModel } from \"models/election\";\r\nimport { TypeElectionFunc, TypeTagObj, TypeVoter } from \"types/electionTypes\";\r\n\r\ntype PropsModalVoter = {\r\n  isOpen: boolean;\r\n  closeModal: () => void;\r\n  pushData: (newElection: TypeElectionFunc) => Promise<any>;\r\n};\r\n\r\nexport default memo(function ModalCargo({ isOpen = false, pushData, closeModal }: PropsModalVoter) {\r\n  const isModalOpen = useMemo(() => isOpen, [isOpen]);\r\n\r\n  return <Fragment>\r\n    {\r\n      isModalOpen ? <ContainerModal\r\n        isOpen\r\n        closeModal={closeModal}\r\n        pushData={pushData}\r\n      /> : null\r\n    }\r\n  </Fragment>\r\n});\r\n\r\nexport function ContainerModal({ closeModal, isOpen, pushData }: PropsModalVoter) {\r\n  const [tags, setTags] = useState<TypeTagObj[] | null>(null);\r\n  const [voters, setVoters] = useState<TypeVoter | null>(null);\r\n\r\n  const { execute: asyncUpdateElection, status } = useAsync<TypeElectionFunc>(pushData, false)\r\n\r\n  useEffect(() => {\r\n    if (status === \"success\" && voters && tags) {\r\n      return closeModal();\r\n    }\r\n    return () => { };\r\n  }, [status, closeModal, voters, tags]);\r\n\r\n  return <Modal\r\n    onRequestClose={closeModal}\r\n    isOpen={isOpen}\r\n    title=\"Subir votantes\"\r\n    footer={\r\n      <div className=\"rainbow-flex rainbow-justify_spread\">\r\n        <Button\r\n          label=\"Cancelar\"\r\n          onClick={closeModal}\r\n          variant=\"destructive\"\r\n        />\r\n        <Button\r\n          disabled={(!tags && !voters) || status === \"pending\"}\r\n          onClick={() => {\r\n            if (voters && tags) {\r\n              return asyncUpdateElection({\r\n                voters: {\r\n                  data: parseObjtArrToDoubleArr(voters.data, voters.fields),\r\n                  fields: voters.fields\r\n                },\r\n                tags: parseObjtArrToDoubleArr(tags, tagsDataModel)\r\n              });\r\n            }\r\n            return null;\r\n          }}\r\n          label=\"Guardar\"\r\n          variant=\"brand\"\r\n        />\r\n      </div>\r\n    }\r\n  >\r\n    <PickFile\r\n      fileType=\"Exel\"\r\n      success={(file) => {\r\n        if (!file) {\r\n          setTags(null);\r\n          return setVoters(null);\r\n        }\r\n        return excelToJSON(file, (data) => {\r\n          const { sheets: tags, fieldsSheet, sheetsContent: voters } = convertSheetsToObjArr(data, \"tag_slug\")\r\n\r\n          setVoters({\r\n            data: voters,\r\n            fields: fieldsSheet.concat([\"tag_slug\"])\r\n          });\r\n          return setTags(tags);\r\n        });\r\n      }}\r\n      onError={() => {\r\n        setTags(null);\r\n        return setVoters(null);\r\n      }}\r\n      accept=\".xlsx\"\r\n    />\r\n    {tags && voters && (\r\n      <TableWithPagination\r\n        keyField={voters.fields[0]}\r\n        data={voters.data}\r\n        fields={voters.fields}\r\n      />\r\n    )}\r\n  </Modal>\r\n}","import XLSX from \"xlsx\";\r\nimport { uuidv4 } from \"./createUID\";\r\nimport { doubleArrPushValues, parseDoubleArrToObjArr, uniqueArray } from \"./parsersData\";\r\n\r\ntype Obj<T> = { [k: string]: T }\r\n\r\nexport default function excelToJSON(file: File, cb: (data: { [k: string]: any[] }) => void) {\r\n  const reader = new FileReader();\r\n  const rABS = !!reader.readAsBinaryString;\r\n\r\n  reader.onloadend = ({ target }) => {\r\n    const bstr = target?.result;\r\n    const wb = XLSX.read(bstr, { type: rABS ? \"binary\" : \"array\" });\r\n\r\n    let obj: { [k: string]: any[] } = {}\r\n\r\n    wb.SheetNames.forEach((sheetName) => {\r\n      obj[sheetName] = XLSX.utils.sheet_to_json(wb.Sheets[sheetName], {\r\n        header: 1\r\n      });\r\n    });\r\n\r\n    return cb(obj);\r\n  }\r\n\r\n  if (rABS) {\r\n    return reader.readAsBinaryString(file);\r\n  } else {\r\n    return reader.readAsArrayBuffer(file);\r\n  };\r\n}\r\n\r\nexport function convertSheetsToObjArr(data: Obj<any[]>, fieldSheetSlug: string = \"sheet_slug\") {\r\n\r\n  const excel = { ...data };\r\n  let sheetsContent: any[] = [];\r\n  let fieldsSheet: any[] = [];\r\n\r\n\r\n  const sheets: any[] = Object.keys(excel).map(tagName => {\r\n    const slug = uuidv4();\r\n    return { name: tagName, slug: slug }\r\n  });\r\n\r\n  sheets.forEach(({ name: sheet, slug }) => {\r\n\r\n    excel[sheet][0].forEach((field: any) => {\r\n      fieldsSheet.push(field);\r\n    });\r\n\r\n    sheetsContent = sheetsContent.concat(\r\n      parseDoubleArrToObjArr(\r\n        doubleArrPushValues(\r\n          excel[sheet],\r\n          fieldSheetSlug,\r\n          slug\r\n        )\r\n      )\r\n    );\r\n  });\r\n\r\n  fieldsSheet = uniqueArray(fieldsSheet);\r\n\r\n  return { sheetsContent, fieldsSheet, sheets };\r\n}","import { parseDoubleArrToObjArr, parseObjtArrToDoubleArr, doubleArrExtractValues } from \"utils/parsersData\";\r\n\r\nexport default function useParserData() {\r\n  return {\r\n    getValuesFromDoubleArray,\r\n    convertDoubleArrToObjArr,\r\n    convertObjArrToDoubleArr\r\n  };\r\n}\r\n\r\nfunction getValuesFromDoubleArray<T>(doubleArray: any[][], fieldToBeExtracted: string) {\r\n  return doubleArrExtractValues<T>(doubleArray, fieldToBeExtracted);\r\n}\r\n\r\nfunction convertDoubleArrToObjArr<T>(data: any[]) {\r\n  return parseDoubleArrToObjArr(data) as T[];\r\n}\r\nfunction convertObjArrToDoubleArr(objArr: any[], arrkeyValidator: string[]) {\r\n  return parseObjtArrToDoubleArr(objArr, arrkeyValidator) as any[][];\r\n}","import React from \"react\";\r\nimport TableWithPagination from \"components/TableWithPagination\";\r\nimport Modal from \"react-rainbow-components/components/Modal\";\r\nimport { TypeVoter } from \"types/electionTypes\";\r\n\r\ntype PropsModalPreviewVoter = {\r\n  isOpen: boolean;\r\n  title: string;\r\n  voters: TypeVoter;\r\n  onClose: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport default function ModalPreviewVoter({ isOpen, title, voters, onClose }: PropsModalPreviewVoter) {\r\n  return <Modal title={title} isOpen={isOpen} onRequestClose={() => onClose(false)}>\r\n    <TableWithPagination\r\n      data={voters.data}\r\n      fields={voters.fields}\r\n      limit={5}\r\n      keyField={voters.fields[0]}\r\n    />\r\n  </Modal>\r\n}","import React from \"react\";\r\nimport { TypeTagObj } from \"types/electionTypes\";\r\nimport \"./index.css\";\r\n\r\ntype PropsCardTag = {\r\n  tag: TypeTagObj | null;\r\n  onOpenTag: (tagSlug: string) => void;\r\n  countVoters: number;\r\n};\r\n\r\nexport default function CardTag({ tag, countVoters, onOpenTag }: PropsCardTag) {\r\n  if (!tag) {\r\n    return <div>No tag found</div>\r\n  }\r\n  return <div className=\"card-tag-container\" onClick={() => onOpenTag(tag.slug)}>\r\n    <h1 className=\"card-tag-title\">{tag.name}</h1>\r\n    <div className=\"card-tag-body-wrapper\">\r\n      <h3 className=\"card-tag-body-wrapper-content\">{countVoters}</h3>\r\n    </div>\r\n  </div>\r\n}","import React, { useEffect, useState, memo, useMemo } from \"react\";\r\nimport { useTheElection } from \"context/TheElectionContext\";\r\nimport useParserData from \"hooks/useParserData\";\r\nimport ModalPreviewVoter from \"components/Modals/ModalPreviewVoter\";\r\nimport CardTag from \"components/Card/CardTag\";\r\nimport { TypeVoter, TypeTagObj } from \"types/electionTypes\";\r\n\r\ntype PropsListTagsWithVoters = {};\r\n\r\nconst { convertDoubleArrToObjArr } = useParserData();\r\n\r\nexport default memo(function ListTagsWithVoters(_props: PropsListTagsWithVoters) {\r\n  const { theElection } = useTheElection();\r\n  const [isOpenModal, openModal] = useState(false);\r\n  const [tagKey, setTagKey] = useState<string>(\"\");\r\n  const [tagsWithVoters, setTagsWithVoters] = useState<ObjTagWithVoters>({});\r\n  const voters = useMemo<TypeVoter>(() => theElection.voters, [theElection.voters]);\r\n  const tags = convertDoubleArrToObjArr<TypeTagObj>(theElection.tags);\r\n\r\n  useEffect(function () {\r\n    let mounted = true;\r\n\r\n    if (mounted) {\r\n      buildTagsWithVotersAndPush(tags, convertDoubleArrToObjArr(voters.data), setTagsWithVoters);\r\n    }\r\n\r\n    return () => {\r\n      mounted = false;\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return <div className=\"grid-items-row\">\r\n    <ModalPreviewVoter\r\n      isOpen={isOpenModal}\r\n      title={tags.find(tag => tag.slug === tagKey)?.name || \"\"}\r\n      voters={{\r\n        data: tagsWithVoters[tagKey] || [],\r\n        fields: voters.fields\r\n      }}\r\n      onClose={(state) => {\r\n        setTagKey(\"\");\r\n        return openModal(state);\r\n      }}\r\n    />\r\n    {\r\n      Object.keys(tagsWithVoters).map((tagSlug, index) => (\r\n        <CardTag\r\n          key={index}\r\n          tag={tags.find((tag) => tag.slug === tagSlug) || null}\r\n          countVoters={tagsWithVoters[tagSlug].length}\r\n          onOpenTag={(slug) => {\r\n            setTagKey(slug);\r\n            return openModal(true);\r\n          }}\r\n        />\r\n      ))\r\n    }\r\n  </div>\r\n});\r\n\r\ntype ObjTagWithVoters = {\r\n  [tagSlug: string]: any[];\r\n};\r\n\r\nfunction buildTagsWithVotersAndPush(tags: TypeTagObj[], voters: any[], cb: (arg: ObjTagWithVoters) => void) {\r\n  let tagWithVoters: ObjTagWithVoters = {};\r\n\r\n  tags.forEach(tag => {\r\n    tagWithVoters = { ...tagWithVoters, [tag.slug]: voters.filter(voter => voter.tag_slug === tag.slug) };\r\n  });\r\n\r\n  return cb(tagWithVoters);\r\n};","import React, { useState } from \"react\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport RenderIf from \"react-rainbow-components/components/RenderIf\";\r\nimport ModalVoter from \"components/Modals/ModalVoter\";\r\nimport ListTagsWithVoters from \"components/Lists/ListTagsWithVoters\";\r\nimport deferComponentRender from \"components/DeferComponentRender\";\r\nimport { TypeElectionFunc } from \"types/electionTypes\";\r\n\r\nconst DeferListTagsWithVoters = deferComponentRender(ListTagsWithVoters);\r\n\r\n// [-] Create/Edit Tags\r\n// [x] Modal upload Voters\r\n// [x] \"Modal create Tags\" -> Voters create tags\r\n// [] Generate and download plantilla\r\n\r\nexport type PropsTabVoters = {\r\n  updateElection: (newElection: TypeElectionFunc) => Promise<any>;\r\n};\r\n\r\nexport default function TabVoters(props: PropsTabVoters) {\r\n  const [isOpenModalVoter, openModalVoter] = useState<boolean>(false);\r\n\r\n  return <div>\r\n    <ModalVoter\r\n      isOpen={isOpenModalVoter}\r\n      pushData={props.updateElection}\r\n      closeModal={() => openModalVoter(false)}\r\n    />\r\n    <RenderIf isTrue={!isOpenModalVoter}>\r\n      <div className='breadcrumbs-with-button'>\r\n        <Button\r\n          label=\"Descargar plantilla\"\r\n          onClick={() => { }}\r\n          variant=\"neutral\"\r\n        />\r\n        <Button\r\n          label=\"Subir / Actualizar votantes\"\r\n          onClick={() => openModalVoter(true)}\r\n          variant=\"success\"\r\n        />\r\n      </div>\r\n      <div className='elections-tabs-view-section'>\r\n        <DeferListTagsWithVoters />\r\n      </div>\r\n    </RenderIf>\r\n  </div>\r\n}\r\n\r\n","import React from 'react';\r\nimport hoistStatics from 'hoist-non-react-statics';\r\n\r\n/**\r\n * Source: https://medium.com/@paularmstrong/twitter-lite-and-high-performance-react-progressive-web-apps-at-scale-d28a00e780a3\r\n * Allows two animation frames to complete to allow other components to update\r\n * and re-render before mounting and rendering an expensive `WrappedComponent`.\r\n */\r\n\r\nexport default function deferComponentRender<WCProps>(WrappedComponent: React.ComponentType<WCProps>) {\r\n  // class DeferredRenderWrapper extends React.Component {\r\n  //   state = { shouldRender: false };\r\n\r\n  //   constructor(props: WCProps, context: any) {\r\n  //     super(props, context);\r\n  //   }\r\n\r\n  //   componentDidMount() {\r\n  //     window.requestAnimationFrame(() => {\r\n  //       window.requestAnimationFrame(() => this.setState({ shouldRender: true }));\r\n  //     });\r\n  //   }\r\n\r\n\r\n  //   render() {\r\n  //     return this.state.shouldRender ? <WrappedComponent {...this.props} /> : null;\r\n  //   }\r\n  // }\r\n\r\n\r\n  function DeferredRenderWrapper<T extends WCProps>(props: T) {\r\n    const [shouldRender, setShouldRender] = React.useState<boolean>(false);\r\n    const requestRef = React.useRef<any>();\r\n\r\n\r\n    const makeARender = React.useCallback(() => {\r\n      // Do anything\r\n      setShouldRender(true);\r\n      requestRef.current = requestAnimationFrame(makeARender);\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n      requestRef.current = requestAnimationFrame(makeARender);\r\n      return () => cancelAnimationFrame(requestRef.current);\r\n    }, [makeARender]);\r\n\r\n    return shouldRender ? <WrappedComponent {...props} /> : null;\r\n  }\r\n\r\n\r\n  return hoistStatics(DeferredRenderWrapper, WrappedComponent);\r\n}","import { Formik } from \"formik\";\r\nimport React, { useCallback } from \"react\";\r\nimport Badge from \"react-rainbow-components/components/Badge\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport { TypeCampaignObj, TypeCandidateObj, TypeCargo } from \"types/electionTypes\";\r\nimport \"./index.css\";\r\n\r\ntype PropsCardCandidate = {\r\n  candidate: TypeCandidateObj;\r\n  campaigns: TypeCampaignObj[];\r\n  cargos: TypeCargo[];\r\n  onRequestOpen: (campaignSlug: string) => void;\r\n  onRequestDelete: (campaignSlug: string) => Promise<any>;\r\n}\r\n\r\nexport default function CardCandidate({ candidate, campaigns, cargos, onRequestDelete, onRequestOpen }: PropsCardCandidate) {\r\n\r\n  const getCampaignName = useCallback((): string => {\r\n    let campaignName = \"\";\r\n\r\n    for (let { slug, name } of campaigns) {\r\n      if (candidate.campaign_slug === slug) {\r\n        campaignName = name;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return campaignName;\r\n  }, [candidate, campaigns]);\r\n\r\n  return <Formik\r\n    initialValues={{}}\r\n    onSubmit={() => onRequestDelete(candidate.slug)}\r\n  >\r\n    {\r\n      function ({ isSubmitting, submitForm }) {\r\n        return <div className=\"list-items-row card-candidate rainbow-m-around_medium\">\r\n          <h1>{candidate.names} {candidate.surnames}</h1>\r\n          <Badge\r\n            label={cargos.find((cargo) => cargo.slug === candidate.cargo)?.alias}\r\n          />\r\n          <Badge\r\n            label={getCampaignName()}\r\n          />\r\n          <Badge\r\n            label={candidate.course}\r\n          />\r\n          <div className=\"list-items-row\">\r\n            <Button onClick={() => onRequestOpen(candidate.slug)} label=\"Abrir\" disabled={isSubmitting} />\r\n            <Button onClick={submitForm} label=\"Borrar\" variant=\"destructive\" disabled={isSubmitting} />\r\n          </div>\r\n        </div>\r\n      }\r\n    }\r\n  </Formik>\r\n}","import React, { useMemo } from \"react\";\r\nimport { useTheElection } from \"context/TheElectionContext\";\r\nimport useParserData from \"hooks/useParserData\";\r\nimport CardCandidate from \"components/Card/CardCandidate\";\r\nimport { doubleArrRemoveItem } from \"utils/parsersData\";\r\nimport { TypeCampaignObj, TypeCandidateObj, TypeElectionFunc } from \"types/electionTypes\";\r\n\r\ntype PropsListCandidates = {\r\n  updateElection: (data: TypeElectionFunc) => Promise<any>;\r\n  editCandidate: (slug: string | null) => void;\r\n}\r\n\r\nconst { convertDoubleArrToObjArr } = useParserData();\r\nexport default function ListCandidates({ editCandidate, updateElection }: PropsListCandidates) {\r\n  const { theElection } = useTheElection();\r\n  const cargos = useMemo(() => theElection.cargos, [theElection.cargos]);\r\n  const candidates = convertDoubleArrToObjArr<TypeCandidateObj>(theElection.candidates);\r\n  const campaigns = convertDoubleArrToObjArr<TypeCampaignObj>(theElection.campaigns);\r\n\r\n  return <div>\r\n    {\r\n      candidates.map((candidate, index) => (\r\n        <CardCandidate\r\n          key={index}\r\n          cargos={cargos}\r\n          candidate={candidate}\r\n          campaigns={campaigns}\r\n          onRequestOpen={editCandidate}\r\n          onRequestDelete={async slug => {\r\n            return await updateElection(\r\n              {\r\n                candidates: doubleArrRemoveItem(theElection.candidates, \"slug\", slug)\r\n              }\r\n            );\r\n          }}\r\n        />\r\n      ))\r\n    }\r\n  </div>\r\n}","import React from \"react\";\r\nimport Input from \"react-rainbow-components/components/Input\";\r\nimport Select from \"react-rainbow-components/components/Select\";\r\nimport { TypeCampaignObj, TypeCandidateObj, TypeCargo } from \"types/electionTypes\";\r\n\r\ntype PropsFormCandidate = {\r\n  setCandidate: (cndt: TypeCandidateObj) => any;\r\n  candidate: TypeCandidateObj;\r\n  campaigns: TypeCampaignObj[];\r\n  cargos: TypeCargo[];\r\n}\r\n\r\nexport default function FormCandidate({ setCandidate, cargos, candidate, campaigns }: PropsFormCandidate) {\r\n  return <div className=\"list-items-row\">\r\n    <Input\r\n      label=\"Nombres completos\"\r\n      placeholder=\"---\"\r\n      type=\"text\"\r\n      style={{ maxWidth: 230 }}\r\n      className=\"rainbow-m-vertical_x-large rainbow-p-horizontal_medium rainbow-m_auto\"\r\n      name=\"names\"\r\n      value={candidate.names}\r\n      onChange={({ target: { value } }) => {\r\n        return setCandidate({ ...candidate, names: value });\r\n      }}\r\n    />\r\n    <Input\r\n      label=\"Apellidos completos\"\r\n      placeholder=\"---\"\r\n      type=\"text\"\r\n      style={{ maxWidth: 230 }}\r\n      className=\"rainbow-m-vertical_x-large rainbow-p-horizontal_medium rainbow-m_auto\"\r\n      name=\"surnames\"\r\n      value={candidate.surnames}\r\n      onChange={({ target: { value } }) => {\r\n        return setCandidate({ ...candidate, surnames: value });\r\n      }}\r\n    />\r\n    <Select\r\n      label=\"Partido\"\r\n      options={[...campaigns].map(cmp => {\r\n        return {\r\n          value: cmp.slug,\r\n          label: cmp.name\r\n        }\r\n      }).concat([{ value: \"\", label: \"Selecciona una lista\" }])}\r\n      style={{ maxWidth: 230 }}\r\n      className=\"rainbow-m-vertical_x-large rainbow-p-horizontal_medium rainbow-m_auto\"\r\n      // @ts-ignore\r\n      onChange={({ target: { value } }) => {\r\n        return setCandidate({ ...candidate, campaign_slug: String(value) });\r\n      }}\r\n      value={candidate.campaign_slug}\r\n    />\r\n    <Select\r\n      label=\"Cargo\"\r\n      options={[...cargos].map((cargo) => {\r\n        return {\r\n          value: cargo.slug,\r\n          label: cargo.alias\r\n        };\r\n      }).concat([{ value: \"\", label: \"Selecciona un cargo\" }])}\r\n      style={{ maxWidth: 230 }}\r\n      className=\"rainbow-m-vertical_x-large rainbow-p-horizontal_medium rainbow-m_auto\"\r\n      // @ts-ignore\r\n      onChange={({ target: { value } }: { target: { value: string } }) => {\r\n        return setCandidate({ ...candidate, cargo: value });\r\n      }}\r\n      value={candidate.cargo}\r\n    />\r\n    <Input\r\n      label=\"Curso\"\r\n      placeholder=\"---\"\r\n      type=\"text\"\r\n      style={{ maxWidth: 230 }}\r\n      className=\"rainbow-m-vertical_x-large rainbow-p-horizontal_medium rainbow-m_auto\"\r\n      name=\"course\"\r\n      value={candidate.course}\r\n      onChange={({ target: { value } }) => {\r\n        return setCandidate({ ...candidate, course: value });\r\n      }}\r\n    />\r\n  </div>;\r\n}","import React, { useContext, useEffect, memo, useState, useMemo, Fragment } from \"react\";\r\nimport Modal from \"react-rainbow-components/components/Modal\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport FormCandidate from \"components/Modals/ModalCandidate/FormCandidate\";\r\nimport { TokenContext } from \"context/UserContext\";\r\nimport { useTheElection } from \"context/TheElectionContext\";\r\nimport useAsync from \"hooks/useAsync\";\r\nimport useParserData from \"hooks/useParserData\";\r\nimport { validationMessages, TypeValidations, checkErrors } from \"utils/validators\";\r\nimport { uuidv4 } from \"utils/createUID\";\r\nimport { candidatesDataModel, defaultCandidate } from \"models/election\";\r\nimport { TypeCampaignObj, TypeCandidateObj, TypeCargo, TypeElectionFunc } from \"types/electionTypes\";\r\nimport \"./index.css\";\r\n\r\nconst validators: TypeValidations = {\r\n  names: { length: 3, required: true },\r\n  surnames: { length: 3, required: true },\r\n  course: { length: 3, required: true },\r\n  cargo: { length: 1, required: true },\r\n  campaign_slug: { length: 3, required: true },\r\n};\r\n\r\ntype PropsModalCandidate = {\r\n  slug: string | null;\r\n  isOpen: boolean;\r\n  createOrUpdate: (newElection: TypeElectionFunc) => Promise<any>;\r\n  cancel: () => void;\r\n};\r\nconst { convertDoubleArrToObjArr, convertObjArrToDoubleArr } = useParserData();\r\n\r\nexport default memo(function ModalCampaign({ isOpen = false, slug, createOrUpdate, cancel }: PropsModalCandidate) {\r\n\r\n  const token = useContext(TokenContext);\r\n  const { theElection } = useTheElection();\r\n\r\n  const cargos = useMemo(() => theElection.cargos, [theElection.cargos]);\r\n  const candidates = convertDoubleArrToObjArr<TypeCandidateObj>(theElection.candidates);\r\n  const campaigns = convertDoubleArrToObjArr<TypeCampaignObj>(theElection.campaigns);\r\n\r\n  const isModalOpen = useMemo(() => isOpen, [isOpen]);\r\n  const candidateSlug = useMemo(() => slug, [slug]);\r\n  const taskFunction = useMemo(() => createOrUpdate, [createOrUpdate]);\r\n  const cancelFunction = useMemo(() => cancel, [cancel]);\r\n\r\n  return <Fragment>\r\n    {\r\n      isModalOpen ? <ContainerModal\r\n        isOpen\r\n        modalTitle=\"Candidato\"\r\n        candidates={candidates}\r\n        campaigns={campaigns}\r\n        cargos={cargos}\r\n        token={token}\r\n        slug={candidateSlug}\r\n        createOrUpdate={taskFunction}\r\n        cancel={cancelFunction}\r\n      /> : null\r\n    }\r\n  </Fragment>\r\n});\r\n\r\nfunction ContainerModal({ isOpen = false, slug, createOrUpdate, token, cargos, cancel, candidates, campaigns, modalTitle }:\r\n  PropsModalCandidate & {\r\n    cargos: TypeCargo[], token: string | null, candidates: TypeCandidateObj[], campaigns: TypeCampaignObj[], modalTitle: string\r\n  }) {\r\n  const asyncCreateOrUpdate = useAsync(createOrUpdate, false);\r\n\r\n  const theCandidate = candidates.find(cndt => cndt.slug === slug) || defaultCandidate;\r\n  const [currCandidate, setCurrCandidate] = useState({ ...theCandidate });\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      if (asyncCreateOrUpdate.status === \"success\") {\r\n        return cancel();\r\n      }\r\n    }\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [asyncCreateOrUpdate.status, cancel]);\r\n\r\n\r\n  function cannotSave() {\r\n    const errors = validationMessages(validators, currCandidate);\r\n    const hasError = checkErrors(errors);\r\n    return hasError;\r\n  }\r\n\r\n  function saveCandidate() {\r\n    let cndts = [...candidates];\r\n    const cmpIndex = cndts.findIndex(cndt => cndt.slug === currCandidate.slug);\r\n\r\n    if (cmpIndex !== -1) {\r\n      cndts[cmpIndex] = currCandidate;\r\n    } else {\r\n      cndts.push({ ...currCandidate, slug: uuidv4() });\r\n    }\r\n\r\n    return asyncCreateOrUpdate.execute({\r\n      candidates: convertObjArrToDoubleArr(cndts, candidatesDataModel)\r\n    });\r\n  }\r\n\r\n  return <Modal\r\n    title={modalTitle}\r\n    size='small'\r\n    footer={\r\n      <div className='rainbow-align-content_center rainbow-flex_wrap'>\r\n        <Button\r\n          label='Cancelar'\r\n          disabled={asyncCreateOrUpdate.status !== \"idle\"}\r\n          onClick={cancel}\r\n          variant='destructive'\r\n          className='rainbow-m-horizontal_medium'\r\n        />\r\n        <Button\r\n          label='Guardar'\r\n          disabled={cannotSave() || asyncCreateOrUpdate.status !== \"idle\"}\r\n          onClick={saveCandidate}\r\n          variant='success'\r\n          className='rainbow-m-horizontal_medium'\r\n        />\r\n      </div>\r\n    }\r\n    isOpen={isOpen}\r\n    onRequestClose={asyncCreateOrUpdate.status !== \"idle\" ? undefined : cancel}\r\n  >\r\n    < div className='elections-tabs-view-section' >\r\n      <FormCandidate\r\n        cargos={cargos}\r\n        campaigns={campaigns}\r\n        candidate={currCandidate}\r\n        setCandidate={setCurrCandidate}\r\n      />\r\n    </div >\r\n  </Modal >\r\n}","import React, { useCallback, useState } from \"react\";\r\nimport AddIcon from \"icons/AddIcon\";\r\nimport ListCandidates from \"components/Lists/ListCandidates\";\r\nimport { TypeElectionFunc } from \"types/electionTypes\";\r\nimport ModalCandidate from \"components/Modals/ModalCandidate\";\r\n\r\ntype PropsTabCandidates = {\r\n  updateElection: (election: TypeElectionFunc) => Promise<any>;\r\n};\r\n\r\nexport default function TabCandidates({ updateElection }: PropsTabCandidates) {\r\n\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [slugIntegrant, setSlugIntegrant] = useState<string | null>(null);\r\n\r\n  const openModal = useCallback((slug: string | null) => {\r\n    setSlugIntegrant(slug);\r\n    setModalOpen(true);\r\n  }, []);\r\n\r\n  const closeModal = useCallback(() => {\r\n    setSlugIntegrant(null);\r\n    setModalOpen(false);\r\n  }, []);\r\n\r\n  return <div>\r\n    <ModalCandidate\r\n      isOpen={isModalOpen}\r\n      slug={slugIntegrant}\r\n      createOrUpdate={updateElection}\r\n      cancel={closeModal}\r\n    />\r\n    <div className='container-election-name breadcrumbs-with-button'>\r\n      <button onClick={() => openModal(null)} className='btn-right-breadcrumb'>\r\n        <AddIcon />Agregar Candidato\r\n      </button>\r\n    </div>\r\n    <div className='elections-tabs-view-section'>\r\n      <ListCandidates\r\n        editCandidate={openModal}\r\n        updateElection={updateElection}\r\n      />\r\n    </div>\r\n  </div>\r\n}","import React, { ReactNode } from \"react\";\r\nimport \"./index.css\";\r\n\r\ntype PropsPreviewFile = {\r\n  fileUrl: string;\r\n  fileName: string;\r\n  withNoRemove?: boolean;\r\n  onRemoveHandler?: () => Promise<any> | void;\r\n}\r\n\r\nfunction cutFileName(name: string) {\r\n  const ext = name.substring(name.lastIndexOf('.'), name.length);\r\n  if (name.length >= 6) {\r\n    return `${name.slice(0, 6)}...(${ext})`;\r\n  }\r\n  return name;\r\n}\r\n\r\nexport default function PreviewFile({ fileUrl, fileName, withNoRemove, onRemoveHandler }: PropsPreviewFile) {\r\n  return <div className='preview-file-container'>\r\n    <div className='preview-file-wrapper'>\r\n      <a href={fileUrl} target='_blank' rel='noopener noreferrer'>\r\n        {cutFileName(fileName)}\r\n      </a>\r\n      {\r\n        !withNoRemove && <button className='button-icon-little-danger' onClick={onRemoveHandler}>x</button>\r\n      }\r\n    </div>\r\n  </div>\r\n}\r\nexport function PreviewNoFile({ children }: { children: ReactNode }) {\r\n  return <div className='preview-file-container'>\r\n    <div className='preview-file-wrapper'>\r\n      {children}\r\n    </div>\r\n  </div>\r\n}","import React from \"react\";\r\nimport Avatar from \"react-rainbow-components/components/Avatar\";\r\nimport \"./index.css\";\r\n\r\ntype PropsPreviewImage = {\r\n  fileUrl: string;\r\n  fileName: string;\r\n  withNoRemove?: boolean;\r\n  width?: number;\r\n  onRemoveHandler?: () => Promise<any> | void;\r\n}\r\n\r\nexport default function PreviewImage({ fileUrl, fileName, withNoRemove, onRemoveHandler, width = 110 }: PropsPreviewImage) {\r\n  const size = width >= 110 ? 110 : width;\r\n\r\n  return <div className='preview-image-container'>\r\n    <div className='preview-image-wrapper'>\r\n      <Avatar\r\n        style={{ width: size, height: size }}\r\n        src={fileUrl}\r\n        assistiveText={fileName}\r\n        title={fileName}\r\n      />\r\n      {\r\n        !withNoRemove && <button className='button-icon-little-danger' onClick={onRemoveHandler}>x</button>\r\n      }\r\n    </div>\r\n  </div>\r\n}","import React from \"react\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport { Formik, Form } from \"formik\";\r\nimport { TypeCampaignObj, TypeCandidateObj } from \"types/electionTypes\";\r\nimport PreviewFile, { PreviewNoFile } from \"components/UploadFile/PreviewFile\";\r\nimport PreviewImage from \"components/UploadFile/PreviewImage\";\r\nimport { isProduction } from \"configurations/variables\";\r\nimport { REACT_API_URL } from \"configurations/api\";\r\nimport \"./index.css\";\r\n\r\ntype PropsCardCampaign = {\r\n  campaign: TypeCampaignObj;\r\n  candidates: TypeCandidateObj[]\r\n  onRequestOpen: (campaignSlug: string) => void;\r\n  onRequestDelete: (campaignSlug: string) => Promise<any>;\r\n};\r\n\r\nfunction resolveUrl(url: string) {\r\n  if (isProduction) {\r\n    return url;\r\n  }\r\n  return REACT_API_URL + url;\r\n}\r\n\r\nexport default function CardCampaign({ campaign: { slug, name, commitments_file, cover_image, logo_image }, candidates, onRequestDelete, onRequestOpen }: PropsCardCampaign) {\r\n\r\n  return <Formik\r\n    initialValues={{}}\r\n    onSubmit={() => onRequestDelete(slug)}\r\n  >\r\n    {function ({ isSubmitting, submitForm }) {\r\n      return (\r\n        <Form className=\"card-campaign\">\r\n          <div className=\"card-campaign-title list-items-row\">\r\n            <h1>{name}</h1>\r\n            <div className=\"list-items-row\">\r\n              <Button onClick={() => onRequestOpen(slug)} label=\"Abrir\" disabled={isSubmitting} />\r\n              <Button onClick={submitForm} label=\"Borrar\" variant=\"destructive\" disabled={isSubmitting} />\r\n            </div>\r\n          </div>\r\n          <div className=\"card-campaigns\">\r\n            <div className=\"card-campaign-item\">\r\n              <h3>Propuestas</h3>\r\n              {commitments_file ?\r\n                <PreviewFile\r\n                  fileName={commitments_file[0].name}\r\n                  fileUrl={resolveUrl(commitments_file[0].url)}\r\n                  withNoRemove\r\n                /> : <PreviewNoFile>\r\n                  <p>(Vac&iacute;o)</p>\r\n                </PreviewNoFile>\r\n              }\r\n            </div>\r\n            <div className=\"card-campaign-item\">\r\n              <h3>Logotipo</h3>\r\n              {logo_image ?\r\n                <PreviewImage\r\n                  fileName={logo_image[0].name}\r\n                  fileUrl={resolveUrl(logo_image[0].url)}\r\n                  withNoRemove\r\n                /> : <PreviewNoFile>\r\n                  <p>(Vac&iacute;o)</p>\r\n                </PreviewNoFile>\r\n              }\r\n            </div>\r\n            <div className=\"card-campaign-item\">\r\n              <h3>Integrantes</h3>\r\n              <h2 className=\"preview-file-container\">{candidates.length}</h2>\r\n            </div>\r\n          </div>\r\n        </Form>\r\n      )\r\n    }\r\n    }\r\n  </Formik>\r\n}","import React from \"react\";\r\nimport CardCampaign from \"components/Card/CardCampaign\";\r\nimport { useTheElection } from \"context/TheElectionContext\";\r\nimport useParserData from \"hooks/useParserData\";\r\nimport { doubleArrRemoveItem } from \"utils/parsersData\";\r\nimport { TypeCampaignObj, TypeCandidateObj, TypeElectionFunc } from \"types/electionTypes\";\r\n\r\ntype PropsListCampaigns = {\r\n  updateElection: (data: TypeElectionFunc) => Promise<any>;\r\n  editCampaign: (slug: string | null) => void;\r\n};\r\n\r\nconst { convertDoubleArrToObjArr } = useParserData();\r\n\r\nexport default function ListCampaigns({ updateElection, editCampaign }: PropsListCampaigns) {\r\n  const { theElection } = useTheElection();\r\n  const campaigns = convertDoubleArrToObjArr<TypeCampaignObj>(theElection.campaigns);\r\n  const candidates = convertDoubleArrToObjArr<TypeCandidateObj>(theElection.candidates);\r\n\r\n  return <div className=\"list-items-col\">\r\n    {campaigns.map((campaign, index) => {\r\n\r\n      const listCandidates = candidates.filter((cnd) => {\r\n        return cnd.campaign_slug === campaign.slug;\r\n      });\r\n\r\n      return <CardCampaign\r\n        key={index}\r\n        candidates={listCandidates}\r\n        campaign={campaign}\r\n        onRequestOpen={editCampaign}\r\n        onRequestDelete={async slug => {\r\n          return await updateElection(\r\n            {\r\n              campaigns: doubleArrRemoveItem(theElection.campaigns, \"slug\", slug),\r\n              candidates: doubleArrRemoveItem(theElection.candidates, \"campaign_slug\", slug)\r\n            }\r\n          );\r\n        }}\r\n      />\r\n    })}\r\n  </div>;\r\n}","import React from \"react\";\r\nimport Input from \"react-rainbow-components/components/Input\";\r\n\r\ntype PropsStepCampaignName = {\r\n  value: string;\r\n  onChangeName: (name: string) => void;\r\n};\r\n\r\nexport default function StepCampaignName({ value, onChangeName }: PropsStepCampaignName) {\r\n  return (\r\n    <>\r\n      <div className='step-title'>\r\n        <h1>Nombre para el partido.</h1>\r\n      </div>\r\n      <Input\r\n        onChange={({ target: { value } }) => {\r\n          return onChangeName(value);\r\n        }}\r\n        placeholder=''\r\n        value={value}\r\n        style={{ maxWidth: 270 }}\r\n        className='rainbow-m-vertical_x-large rainbow-p-horizontal_medium rainbow-m_auto'\r\n      />\r\n      <div className='step-instruction'>\r\n        <p>M&iacute;nimo 4 caracteres.</p>\r\n      </div>\r\n    </>\r\n  );\r\n}","import React, { useContext, useState } from \"react\";\r\nimport { TokenContext } from \"context/UserContext\";\r\nimport PickFile from \"components/PickFile\";\r\nimport ProgressBar from \"react-rainbow-components/components/ProgressBar\";\r\nimport Chip from \"react-rainbow-components/components/Chip\";\r\nimport useFetch from \"hooks/useFetch\";\r\n\r\ntype PropsUploadFile<T> = {\r\n  url: string;\r\n  fileType: string;\r\n  accept?: string;\r\n  success: (val: T) => void;\r\n  progress: (val: number) => void | null;\r\n  onError: (val: Error) => void;\r\n}\r\n\r\nexport default function UploadFile<T>(props: PropsUploadFile<T>) {\r\n  const token = useContext(TokenContext);\r\n\r\n  const [isHasDone, setIsHasDone] = useState(false);\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [prgrss, setPrgrss] = useState<number>(100);\r\n  const { fetchUploadFile } = useFetch();\r\n\r\n  const handlePickFileOne = async (file: File | null) => {\r\n    if (file) {\r\n      try {\r\n        setIsHasDone(true);\r\n        const data = new FormData();\r\n        data.append(\"files\", file);\r\n        const response: T = await fetchUploadFile(props.url, token, data, (progress) => {\r\n          props.progress(progress);\r\n          return setPrgrss(progress);\r\n        });\r\n        return props.success(response);\r\n      } catch (error) {\r\n        setIsHasDone(false);\r\n        return props.onError(error);\r\n      }\r\n    }\r\n    return setIsHasDone(false);\r\n  }\r\n\r\n\r\n  if (error) {\r\n    return <div className=\"container-file-selector\">\r\n      <Chip label={error.message} onDelete={() => setError(null)} />\r\n    </div>\r\n  }\r\n\r\n  if (isHasDone) {\r\n    return <ProgressBar value={prgrss} size=\"x-small\" />;\r\n  }\r\n\r\n  return <div className=\"container-file-selector\">\r\n    <PickFile\r\n      fileType={props.fileType}\r\n      accept={props.accept}\r\n      success={handlePickFileOne}\r\n      onError={(error) => {\r\n        setIsHasDone(false);\r\n        return setError(error)\r\n      }}\r\n    />\r\n    {/* {\r\n      prgrss === 100 ? (\r\n        <PickFile\r\n          fileType={props.fileType}\r\n          accept={props.accept}\r\n          success={handlePickFileOne}\r\n          onError={setError}\r\n        />\r\n      ) : (\r\n          <ProgressBar value={prgrss} size=\"x-small\" />\r\n        )\r\n    } */}\r\n  </div>\r\n}","import React from \"react\";\r\nimport UploadFile from \"components/UploadFile\";\r\nimport { REACT_API_URL } from \"configurations/api\";\r\nimport PreviewImage from \"components/UploadFile/PreviewImage\";\r\nimport { FileApi } from \"types/appTypes\";\r\n\r\ntype PropsStepUploadLogo = {\r\n  campaignName: string;\r\n  onChange: (val: any, id?: number) => void;\r\n  logo_image: any;\r\n};\r\n\r\nexport default function stepUploadLogo({ logo_image, onChange }: PropsStepUploadLogo) {\r\n  return (\r\n    <>\r\n      <section className='step-title'>\r\n        <h1>Logo del partido.</h1>\r\n      </section>\r\n      <section>\r\n        {logo_image\r\n          ? <PreviewImage\r\n            fileUrl={`${REACT_API_URL + logo_image[0].url}`}\r\n            fileName={logo_image[0].name}\r\n            onRemoveHandler={() => onChange(null, Number(logo_image[0].id))}\r\n          /> : <UploadFile\r\n            url='/upload'\r\n            fileType=\"Imagen\"\r\n            accept=\".jpg,.png,.jpeg,.gif,.webp,.jp2,.j2k,.jpf,.jpx,.jpm,.mj2\"\r\n            onError={err => console.log({ err })}\r\n            progress={() => null}\r\n            success={(logo: FileApi) => {\r\n              console.log({ logo });\r\n              return onChange(logo)\r\n            }}\r\n          />\r\n        }\r\n      </section>\r\n    </>\r\n  );\r\n}","import React from \"react\";\r\nimport UploadFile from \"components/UploadFile\";\r\nimport PreviewFile from \"components/UploadFile/PreviewFile\";\r\nimport { REACT_API_URL } from \"configurations/api\";\r\n\r\ntype PropsStepCommitments = {\r\n  campaignName: string;\r\n  onChange: (val: any, id?: number) => void;\r\n  commitments_file: any;\r\n};\r\n\r\nexport default function StepUploadCommitments({ campaignName, commitments_file, onChange }: PropsStepCommitments) {\r\n  return (\r\n    <>\r\n      <section className='step-title'>\r\n        <h1>Propuestas del partido.</h1>\r\n      </section>\r\n      <section>\r\n        {commitments_file\r\n          ? <PreviewFile\r\n            fileUrl={`${REACT_API_URL + commitments_file[0].url}`}\r\n            fileName={commitments_file[0].name}\r\n            onRemoveHandler={() => onChange(null, Number(commitments_file[0].id))}\r\n          /> : <UploadFile\r\n            url='/upload'\r\n            fileType=\"PDF\"\r\n            accept=\".pdf\"\r\n            onError={err => console.log({ err })}\r\n            progress={() => null}\r\n            success={onChange}\r\n          />\r\n        }\r\n      </section>\r\n    </>\r\n  );\r\n}","import React, { useContext, useEffect, memo, useState, useMemo, Fragment } from \"react\";\r\nimport Modal from \"react-rainbow-components/components/Modal\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport { TokenContext } from \"context/UserContext\";\r\nimport { useTheElection } from \"context/TheElectionContext\";\r\nimport useAsync from \"hooks/useAsync\";\r\nimport useParserData from \"hooks/useParserData\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport { uuidv4 } from \"utils/createUID\";\r\nimport { validationMessages, TypeValidations, checkErrors } from \"utils/validators\";\r\nimport { campaignsDataModel, defaultCampaign } from \"models/election\";\r\nimport { TypeCampaignObj, TypeElectionFunc } from \"types/electionTypes\";\r\nimport StepCampaignName from \"components/Modals/ModalCampaign/stepNameCampaign\";\r\nimport StepUploadLogo from \"components/Modals/ModalCampaign/stepUploadLogo\";\r\nimport StepUploadCommitments from \"components/Modals/ModalCampaign/stepUploadCommitments\";\r\nimport \"./index.css\";\r\n\r\n// [] Step Upload cover image\r\n// [x] Step Upload logo image\r\n\r\nconst validators: TypeValidations = {\r\n  name: { length: 4, required: true }\r\n};\r\n\r\ntype PropsModalCampaign = {\r\n  slug: string | null;\r\n  isOpen: boolean;\r\n  createOrUpdate: (newElection: TypeElectionFunc) => Promise<any>;\r\n  cancel: () => void;\r\n};\r\nconst { fetchDelWithToken } = useFetch();\r\nconst { convertDoubleArrToObjArr, convertObjArrToDoubleArr } = useParserData();\r\n\r\nexport default memo(function ModalCampaign({ isOpen = false, slug, createOrUpdate, cancel }: PropsModalCampaign) {\r\n\r\n  const token = useContext(TokenContext);\r\n  const { theElection } = useTheElection();\r\n  const campaigns = convertDoubleArrToObjArr<TypeCampaignObj>(theElection.campaigns);\r\n\r\n  const isModalOpen = useMemo(() => isOpen, [isOpen]);\r\n  const campaignSlug = useMemo(() => slug, [slug]);\r\n  const taskFunction = useMemo(() => createOrUpdate, [createOrUpdate]);\r\n  const cancelFunction = useMemo(() => cancel, [cancel]);\r\n\r\n  return <Fragment>\r\n    {\r\n      isModalOpen ? <ContainerModal\r\n        isOpen\r\n        modalTitle={theElection.name}\r\n        campaigns={campaigns}\r\n        token={token}\r\n        slug={campaignSlug}\r\n        createOrUpdate={taskFunction}\r\n        cancel={cancelFunction}\r\n      /> : null\r\n    }\r\n  </Fragment>\r\n});\r\n\r\nfunction ContainerModal({ isOpen = false, slug, createOrUpdate, token, cancel, campaigns, modalTitle }:\r\n  PropsModalCampaign & { token: string | null, campaigns: TypeCampaignObj[], modalTitle: string }) {\r\n  const asyncCreateOrUpdate = useAsync(createOrUpdate, false);\r\n\r\n  const theCampaign = campaigns.find(campaign => campaign.slug === slug) || defaultCampaign;\r\n  const [currCampaign, setCurrCampaign] = useState(theCampaign);\r\n\r\n  async function removeFile(fileId: string | number) {\r\n    try {\r\n      await fetchDelWithToken(`/upload/files/${fileId}`, token);\r\n    } catch (error) {\r\n      console.log({ error });\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    if (mounted) {\r\n      if (asyncCreateOrUpdate.status === \"success\") {\r\n        return cancel();\r\n      }\r\n    }\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [asyncCreateOrUpdate.status, cancel]);\r\n\r\n  const createCampaign = () => {\r\n    let cmps = [...campaigns];\r\n    const cmpIndex = cmps.findIndex(cmp => cmp.slug === currCampaign.slug);\r\n\r\n    if (cmpIndex !== -1) {\r\n      cmps[cmpIndex] = currCampaign;\r\n    } else {\r\n      cmps.push({ ...currCampaign, slug: uuidv4() });\r\n    }\r\n\r\n    return asyncCreateOrUpdate.execute({\r\n      campaigns: convertObjArrToDoubleArr(cmps, campaignsDataModel)\r\n    });\r\n  };\r\n\r\n  function cannotSave() {\r\n    const errors = validationMessages(validators, currCampaign);\r\n    const hasError = checkErrors(errors);\r\n    return hasError;\r\n  }\r\n\r\n  return <Modal\r\n    title={modalTitle}\r\n    size='small'\r\n    footer={\r\n      <div className='rainbow-align-content_center rainbow-flex_wrap'>\r\n        <Button\r\n          label='Cancelar'\r\n          disabled={asyncCreateOrUpdate.status !== \"idle\"}\r\n          onClick={cancel}\r\n          variant='destructive'\r\n          className='rainbow-m-horizontal_medium'\r\n        />\r\n        <Button\r\n          label='Guardar'\r\n          disabled={cannotSave() || asyncCreateOrUpdate.status !== \"idle\"}\r\n          onClick={createCampaign}\r\n          variant='success'\r\n          className='rainbow-m-horizontal_medium'\r\n        />\r\n      </div>\r\n    }\r\n    isOpen={isOpen}\r\n    onRequestClose={asyncCreateOrUpdate.status !== \"idle\" ? undefined : cancel}\r\n  >\r\n    < div className='elections-tabs-view-section' >\r\n      <StepCampaignName\r\n        onChangeName={(name) => {\r\n          return setCurrCampaign({ ...currCampaign, name });\r\n        }}\r\n        value={currCampaign.name}\r\n      />\r\n      <StepUploadLogo\r\n        campaignName={currCampaign.name}\r\n        logo_image={currCampaign.logo_image}\r\n        onChange={(logo, logoId) => {\r\n          if (logoId !== undefined) {\r\n            setCurrCampaign({ ...currCampaign, logo_image: null });\r\n            return removeFile(logoId);\r\n          }\r\n          return setCurrCampaign({ ...currCampaign, logo_image: logo });\r\n        }}\r\n      />\r\n      <StepUploadCommitments\r\n        campaignName={currCampaign.name}\r\n        commitments_file={currCampaign.commitments_file}\r\n        onChange={(pdf, pdfId) => {\r\n          if (pdfId !== undefined) {\r\n            setCurrCampaign({ ...currCampaign, commitments_file: null });\r\n            return removeFile(pdfId);\r\n          }\r\n          return setCurrCampaign({ ...currCampaign, commitments_file: pdf });\r\n        }}\r\n      />\r\n    </div >\r\n  </Modal >\r\n}","import React, { useCallback, useState } from \"react\";\r\nimport ListCampaigns from \"components/Lists/ListCampaigns\";\r\nimport AddIcon from \"icons/AddIcon\";\r\nimport ModalCampaign from \"components/Modals/ModalCampaign\";\r\nimport { TypeElectionFunc } from \"types/electionTypes\";\r\nimport \"./index.css\";\r\n\r\nexport type PropsTabCampaigns = {\r\n  updateElection: (election: TypeElectionFunc) => Promise<any>;\r\n};\r\n\r\nexport default function TabCampaigns({ updateElection }: PropsTabCampaigns) {\r\n  const [isModalOpen, setModalOpen] = useState(false);\r\n  const [slugCampaign, setSlugCampaign] = useState<string | null>(null);\r\n\r\n  const openModal = useCallback((slug: string | null) => {\r\n    setSlugCampaign(slug);\r\n    setModalOpen(true);\r\n  }, []);\r\n\r\n  const closeModal = useCallback(() => {\r\n    setSlugCampaign(null);\r\n    setModalOpen(false);\r\n  }, []);\r\n\r\n  return <div>\r\n    <ModalCampaign\r\n      isOpen={isModalOpen}\r\n      slug={slugCampaign}\r\n      createOrUpdate={updateElection}\r\n      cancel={closeModal}\r\n    />\r\n    <div className='container-election-name breadcrumbs-with-button'>\r\n      <button onClick={() => openModal(null)} className='btn-right-breadcrumb'>\r\n        <AddIcon />Agregar partido\r\n      </button>\r\n    </div>\r\n    <div className='elections-tabs-view-section'>\r\n      <ListCampaigns\r\n        editCampaign={openModal}\r\n        updateElection={updateElection}\r\n      />\r\n    </div>\r\n  </div>;\r\n}","import React from \"react\";\r\nimport InputFetch from \"components/InputFetch\";\r\nimport { useTheElection } from \"context/TheElectionContext\"\r\nimport useParserData from \"hooks/useParserData\";\r\nimport { TypeCampaignObj, TypeCandidateObj, TypeTagObj, TypeElectionFunc } from \"types/electionTypes\";\r\nimport \"./index.css\";\r\n\r\n// [x] Update Election Name\r\n// [x] Show general stats\r\n// [] Show graph stats election -> moved to path /stats\r\n// [] Button generate report pdf -> moved to path /stats\r\n\r\ntype PropsTabGeneral = {\r\n  updateElection: (newElection: TypeElectionFunc) => Promise<any>;\r\n};\r\n\r\nconst { convertDoubleArrToObjArr } = useParserData();\r\n\r\nexport default function TabGeneral(props: PropsTabGeneral) {\r\n  const { theElection, mutateTheElectionWith } = useTheElection();\r\n\r\n  const campaigns = convertDoubleArrToObjArr<TypeCampaignObj>(theElection.campaigns);\r\n  const candidates = convertDoubleArrToObjArr<TypeCandidateObj>(theElection.candidates);\r\n  const tags = convertDoubleArrToObjArr<TypeTagObj>(theElection.tags);\r\n  const voters = convertDoubleArrToObjArr<any[]>(theElection.voters.data);\r\n\r\n  return <div className='elections-tabs-view-section'>\r\n    <div>\r\n      <InputFetch\r\n        initialValue={theElection.name}\r\n        beforeChange={mutateTheElectionWith}\r\n        onChange={props.updateElection}\r\n        resolveData={name => {\r\n          return { ...theElection, name }\r\n        }}\r\n      />\r\n    </div>\r\n    <section className=\"list-items-row\">\r\n      <div className=\"campaign-general-stats-wrapper\">\r\n        <p>{voters.length}</p>\r\n        <h1>Votantes</h1>\r\n      </div>\r\n      <div className=\"campaign-general-stats-wrapper\">\r\n        <p>{campaigns.length}</p>\r\n        <h1>Partidos</h1>\r\n      </div>\r\n      <div className=\"campaign-general-stats-wrapper\">\r\n        <p>{tags.length}</p>\r\n        <h1>Etiquetas</h1>\r\n      </div>\r\n      <div className=\"campaign-general-stats-wrapper\">\r\n        <p>{candidates.length}</p>\r\n        <h1>Candidatos</h1>\r\n      </div>\r\n    </section>\r\n  </div>\r\n}","\r\ntype TypeExpectedType = \"string\" | \"number\" | \"object\" | \"array\" | \"function\";\r\n\r\nexport function resolveValueType<T>(arg: any, expectedType: TypeExpectedType) {\r\n  if (!Boolean(arg)) {\r\n    return null;\r\n  }\r\n  if (Array.isArray(arg) && expectedType === \"array\") {\r\n    return arg as T[];\r\n  }\r\n  if (typeof arg === expectedType) {\r\n    return arg as T;\r\n  }\r\n  return null;\r\n}","import React, { useState, memo, useMemo, useCallback } from \"react\";\r\nimport useTitle from \"react-use/lib/useTitle\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport Breadcrumbs from \"components/Breadcrums\";\r\nimport Tabs from \"components/Tabs\";\r\nimport ContentLoader from \"components/ContentLoader\";\r\nimport RenderIf from \"react-rainbow-components/components/RenderIf\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport TabSettings from \"pages/EditElection/TabSettings\";\r\nimport TabVoters from \"pages/EditElection/TabVoters\";\r\nimport TabCandidates from \"pages/EditElection/TabCandidates\";\r\nimport TabCampaigns from \"pages/EditElection/TabCampaigns\";\r\nimport TabGeneral from \"pages/EditElection/TabGeneral\";\r\nimport useElection from \"hooks/useElection\";\r\nimport TheElectionProvider from \"context/TheElectionContext\";\r\nimport { resolveValueType } from \"utils/properTypes\";\r\nimport { TypeElection, TypeElectionFunc } from \"types/electionTypes\";\r\nimport \"./index.css\";\r\n\r\nconst tabs = [\r\n  { id: \"general\", name: \"General\" },\r\n  { id: \"campaigns\", name: \"Partidos\" },\r\n  { id: \"votantes\", name: \"Votantes\" },\r\n  { id: \"candidates\", name: \"Candidatos\" },\r\n  { id: \"configs\", name: \"Configuraciones\" }\r\n];\r\n\r\ntype PropsEditElection = RouteComponentProps<{ id: string }> & {};\r\n\r\nexport default memo(function EditElection({ match, history }: PropsEditElection) {\r\n  const currentElectionId = useMemo(() => match.params.id, [match]);\r\n  const [selectedTab, setSelectedTab] = useState<number>(0);\r\n\r\n  const { apiRemove, apiUpdate, isFetching, isFetchError, data, api } = useElection({ id: currentElectionId });\r\n\r\n  const election = resolveValueType<TypeElection>(data, \"object\") as TypeElection | null;\r\n\r\n  useTitle(election ? election.name : \". . .\");\r\n\r\n  const breadcrumbs = useMemo(\r\n    () => [\r\n      { name: \"Elecciones\", pathname: \"/elections\" },\r\n      { name: election ? election.name : \"...\", pathname: `/elections/${currentElectionId}` }\r\n    ],\r\n    [election, currentElectionId]\r\n  );\r\n\r\n  const updateElection = useCallback(async (newElection: TypeElectionFunc) => {\r\n    await apiUpdate({ ...election, ...newElection });\r\n  }, [apiUpdate, election]);\r\n  const isActiveElection = election ? election.status === \"active\" : false;\r\n\r\n  if (!election) {\r\n    return <ContentLoader contentScreen='elections' isError={isFetchError} isFetching={isFetching} isNoData={false} />;\r\n  } else if (Object.keys(election).length === 0) {\r\n    return <ContentLoader contentScreen='elections' isError={null} isFetching={false} isNoData={true} />;\r\n  }\r\n\r\n  return (\r\n    <TheElectionProvider id={currentElectionId} mutate={api.mutate} value={election}>\r\n      <Breadcrumbs breadcrumbs={breadcrumbs} />\r\n      <ContentLoader messageNoData='No existe' contentScreen='elections' isError={isFetchError} isFetching={isFetching} isNoData={Boolean(Object.keys(election).length <= 0)}>\r\n        {\r\n          <Tabs initialTab={selectedTab} onSelectTab={setSelectedTab} tabs={tabs}>\r\n            <RenderIf isTrue={selectedTab === 0}>\r\n              <TabGeneral updateElection={updateElection} />\r\n            </RenderIf>\r\n            <RenderIf isTrue={selectedTab === 1 && !isActiveElection}>\r\n              <TabCampaigns\r\n                updateElection={updateElection}\r\n              />\r\n            </RenderIf>\r\n            <RenderIf isTrue={selectedTab === 2 && !isActiveElection}>\r\n              <TabVoters updateElection={updateElection} />\r\n            </RenderIf>\r\n            <RenderIf isTrue={selectedTab === 3 && !isActiveElection}>\r\n              <TabCandidates\r\n                updateElection={updateElection}\r\n              />\r\n            </RenderIf>\r\n            <RenderIf isTrue={selectedTab === 4}>\r\n              <TabSettings updateElection={updateElection} />\r\n            </RenderIf>\r\n            <RenderIf isTrue={selectedTab !== 4 && selectedTab !== 0 && isActiveElection}>\r\n              <p>Desactivado durante las elecciones</p>\r\n            </RenderIf>\r\n          </Tabs>\r\n        }\r\n        <div className='rainbow-m-top_xx-large rainbow-align-content_center rainbow-flex_wrap'>\r\n          <Button\r\n            variant='destructive'\r\n            label='Borrar Elección'\r\n            disabled={isActiveElection}\r\n            className='rainbow-m-horizontal_medium'\r\n            onClick={() => apiRemove(null, () => history.push(\"/elections\"))}\r\n          />\r\n        </div>\r\n      </ContentLoader>\r\n    </TheElectionProvider >\r\n  );\r\n});\r\n","import React, { useRef, useState, useCallback, ReactNode } from \"react\";\r\nimport { PDFDownloadLink, Document, Page, Image, View } from \"@react-pdf/renderer\";\r\nimport html2canvas from \"html2canvas\";\r\nimport Dataset from \"react-rainbow-components/components/Dataset\";\r\nimport Chart from \"react-rainbow-components/components/Chart\";\r\nimport RenderIf from \"react-rainbow-components/components/RenderIf\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\n\r\ntype PropsTabStatsPerTag = {\r\n  isPrivate: boolean;\r\n};\r\n\r\nexport default function TabStatsPerTag({ isPrivate }: PropsTabStatsPerTag) {\r\n  const pageRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  return <div>\r\n    <RenderIf isTrue={isPrivate}>\r\n      <SectionGeneratePdf pageRef={pageRef} />\r\n    </RenderIf>\r\n    <div ref={pageRef}>\r\n      <div style={{ padding: 20 }}>\r\n        <Chart\r\n          labels={[\"One\", \"Two\"]}\r\n          type=\"horizontalBar\"\r\n          style={{ maxWidth: 450 }}\r\n          legendPosition=\"right\"\r\n          disableCurves\r\n        >\r\n          <Dataset title=\"Data\" values={[10, 20]} backgroundColor={['#fe4849', '#ff6837']} />\r\n        </Chart>\r\n        <Chart\r\n          labels={['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']}\r\n          type=\"bar\"\r\n          style={{ maxWidth: 250 }}\r\n          className=\"rainbow-m-horizontal_xx-large rainbow-m-top_x-large\"\r\n        >\r\n          <Dataset\r\n            title=\"Dataset 1\"\r\n            values={[23, 45, 123, 56, 66, 100, 30, 156]}\r\n            backgroundColor=\"#1de9b6\"\r\n            borderColor=\"#1de9b6\"\r\n          />\r\n        </Chart>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n\r\ntype PropsSectionGeneratePdf = {\r\n  pageRef: React.MutableRefObject<HTMLDivElement | null>;\r\n}\r\n\r\nfunction SectionGeneratePdf({ pageRef }: PropsSectionGeneratePdf) {\r\n  const [isClicked, setIsClicked] = useState(false);\r\n  const [element, setElement] = useState<ReactNode | null>(null);\r\n\r\n  const getPdfDownloadLink = (pageRendered: string) => {\r\n    return <PDFDownloadLink document={\r\n      <Document onRender={() => {\r\n        return {};\r\n      }} title=\"Estado Voters\">\r\n        <Page >\r\n          <View>\r\n            <Image src={pageRendered} />\r\n          </View>\r\n        </Page>\r\n      </Document>\r\n    }>\r\n      {({ blob, loading, error, url }) =>\r\n        (loading ? 'Generando documento' : 'Descargar Pdf')\r\n      }\r\n    </PDFDownloadLink>\r\n  }\r\n\r\n  const getScreenshot = useCallback(function getScreenshot() {\r\n    setIsClicked(true);\r\n    return html2canvas(pageRef.current as HTMLDivElement)\r\n      .then((canvas) => canvas.toDataURL('image/png'))\r\n      .then((screenshot) => {\r\n        return setElement(getPdfDownloadLink(screenshot));\r\n      }).finally(() => setIsClicked(false));\r\n  }, [pageRef]);\r\n\r\n  if (element) {\r\n    return <React.Fragment>\r\n      {element}\r\n    </React.Fragment >\r\n  }\r\n\r\n  return <Button onClick={getScreenshot} disabled={isClicked} label=\"Generar PDF\" />\r\n}","import React, { useRef, useState, useCallback, ReactNode } from \"react\";\r\nimport { PDFDownloadLink, Document, Page, Image, View } from \"@react-pdf/renderer\";\r\nimport html2canvas from \"html2canvas\";\r\nimport Dataset from \"react-rainbow-components/components/Dataset\";\r\nimport Chart from \"react-rainbow-components/components/Chart\";\r\nimport RenderIf from \"react-rainbow-components/components/RenderIf\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\n\r\ntype PropsTabStatsGeneral = {\r\n  isPrivate: boolean;\r\n};\r\n\r\nexport default function TabStatsGeneral({ isPrivate }: PropsTabStatsGeneral) {\r\n  const pageRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  return <div>\r\n    <RenderIf isTrue={isPrivate}>\r\n      <SectionGeneratePdf pageRef={pageRef} />\r\n    </RenderIf>\r\n    <div ref={pageRef}>\r\n      <div style={{ padding: 20 }}>\r\n        <Chart\r\n          labels={[\"One\", \"Two\"]}\r\n          type=\"horizontalBar\"\r\n          style={{ maxWidth: 450 }}\r\n          legendPosition=\"right\"\r\n          disableCurves\r\n        >\r\n          <Dataset title=\"Data\" values={[10, 20]} backgroundColor={['#fe4849', '#ff6837']} />\r\n        </Chart>\r\n        <Chart\r\n          labels={['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H']}\r\n          type=\"bar\"\r\n          style={{ maxWidth: 250 }}\r\n          className=\"rainbow-m-horizontal_xx-large rainbow-m-top_x-large\"\r\n        >\r\n          <Dataset\r\n            title=\"Dataset 1\"\r\n            values={[23, 45, 123, 56, 66, 100, 30, 156]}\r\n            backgroundColor=\"#1de9b6\"\r\n            borderColor=\"#1de9b6\"\r\n          />\r\n        </Chart>\r\n      </div>\r\n    </div>\r\n  </div>\r\n}\r\n\r\ntype PropsSectionGeneratePdf = {\r\n  pageRef: React.MutableRefObject<HTMLDivElement | null>;\r\n}\r\n\r\nfunction SectionGeneratePdf({ pageRef }: PropsSectionGeneratePdf) {\r\n  const [isClicked, setIsClicked] = useState(false);\r\n  const [element, setElement] = useState<ReactNode | null>(null);\r\n\r\n  const getPdfDownloadLink = (pageRendered: string) => {\r\n    return <PDFDownloadLink document={\r\n      <Document onRender={() => {\r\n        return {};\r\n      }} title=\"Estado genernal\">\r\n        <Page >\r\n          <View>\r\n            <Image src={pageRendered} />\r\n          </View>\r\n        </Page>\r\n      </Document>\r\n    }>\r\n      {({ blob, loading, error, url }) =>\r\n        (loading ? 'Generando documento' : 'Descargar Pdf')\r\n      }\r\n    </PDFDownloadLink>\r\n  }\r\n\r\n  const getScreenshot = useCallback(function getScreenshot() {\r\n    setIsClicked(true);\r\n    return html2canvas(pageRef.current as HTMLDivElement)\r\n      .then((canvas) => canvas.toDataURL('image/png'))\r\n      .then((screenshot) => {\r\n        return setElement(getPdfDownloadLink(screenshot));\r\n      }).finally(() => setIsClicked(false));\r\n  }, [pageRef]);\r\n\r\n  if (element) {\r\n    return <React.Fragment>\r\n      {element}\r\n    </React.Fragment >\r\n  }\r\n\r\n  return <Button onClick={getScreenshot} disabled={isClicked} label=\"Generar PDF\" />\r\n}","import React, { useMemo, useState, useEffect } from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport TabStatsPerTag from \"pages/StatsElection/TabStatsPerTag\";\r\nimport { resolveValueType } from \"utils/properTypes\";\r\nimport { useTitle } from \"react-use\";\r\nimport { TypeElection } from \"types/electionTypes\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport Tabs from \"components/Tabs\";\r\nimport Breadcrumbs from \"components/Breadcrums\";\r\nimport RenderIf from \"react-rainbow-components/components/RenderIf\";\r\nimport TheElectionProvider from \"context/TheElectionContext\";\r\nimport TabStatsGeneral from \"./TabStatsGeneral\";\r\n\r\nconst tabs = [\r\n  { id: \"gen_stats\", name: \"Estadisticas Generales\" },\r\n  { id: \"tags_stats\", name: \"Estadisticas por Etiquetas\" },\r\n];\r\n\r\ntype PropsStatsElection = RouteComponentProps<{ id: string }> & {\r\n  isPrivate: boolean;\r\n};\r\n\r\nexport default function StatsElectionContainer(isPrivate: boolean) {\r\n  return (props: RouteComponentProps<{ id: string }>) => {\r\n    return <StatsElection {...props} isPrivate={isPrivate} />\r\n  }\r\n}\r\n\r\nconst { fetchGetWithoutToken } = useFetch();\r\n\r\nexport function StatsElection({ isPrivate, match }: PropsStatsElection) {\r\n  const currentElectionId = useMemo(() => match.params.id, [match]);\r\n  const [selectedTab, setSelectedTab] = useState<number>(0);\r\n  const [election, setElection] = useState<TypeElection | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchGetWithoutToken(`/votes/${currentElectionId}/stats`)\r\n      .then((data) => {\r\n        const election = resolveValueType<TypeElection>(data, \"object\") as TypeElection | null;\r\n        return election;\r\n      }).then(setElection)\r\n  }, [currentElectionId]);\r\n\r\n  useTitle(election ? election.name : \". . .\");\r\n\r\n  const breadcrumbs = useMemo(() => [\r\n    { name: \"Elecciones\", pathname: \"/elections\" },\r\n    { name: election ? election.name : \"...\", pathname: `/elections/${currentElectionId}` }\r\n  ], [election, currentElectionId]);\r\n\r\n  if (!election) {\r\n    return <Breadcrumbs breadcrumbs={breadcrumbs} />;\r\n  }\r\n\r\n  console.log({ election });\r\n\r\n  return <TheElectionProvider id={currentElectionId} value={election}>\r\n    <Breadcrumbs breadcrumbs={breadcrumbs} />\r\n    <Tabs initialTab={selectedTab} onSelectTab={setSelectedTab} tabs={tabs}>\r\n      <RenderIf isTrue={selectedTab === 0}>\r\n        <TabStatsGeneral isPrivate={isPrivate} />\r\n      </RenderIf>\r\n      <RenderIf isTrue={selectedTab === 1}>\r\n        <TabStatsPerTag isPrivate={isPrivate} />\r\n      </RenderIf>\r\n    </Tabs>\r\n  </TheElectionProvider>\r\n}","import React from \"react\";\r\nimport useTitle from \"react-use/lib/useTitle\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport Breadcrumbs from \"components/Breadcrums\";\r\n\r\ntype PropsApps = RouteComponentProps & {};\r\n\r\nexport default function Apps(_: PropsApps) {\r\n  useTitle(\"Apps\");\r\n\r\n  const breadcrumbs = [\r\n    { name: \"Apps\", pathname: \"/apps\" }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Breadcrumbs breadcrumbs={breadcrumbs} />\r\n      Apps Page\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport useTitle from \"react-use/lib/useTitle\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport Breadcrumbs from \"components/Breadcrums\";\r\n\r\ntype PropsMessage = RouteComponentProps & {};\r\n\r\nexport default function Message(_: PropsMessage) {\r\n  useTitle(\"Mensajes\");\r\n\r\n  const breadcrumbs = [\r\n    { name: \"Mensajes\", pathname: \"/message\" }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Breadcrumbs breadcrumbs={breadcrumbs} />\r\n      Message Page\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport useTitle from \"react-use/lib/useTitle\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport Breadcrumbs from \"components/Breadcrums\";\r\n\r\ntype PropsForms = RouteComponentProps & {};\r\n\r\nexport default function Forms(_: PropsForms) {\r\n  useTitle(\"Formularios\");\r\n\r\n  const breadcrumbs = [\r\n    { name: \"Formularios\", pathname: \"/forms\" }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Breadcrumbs breadcrumbs={breadcrumbs} />\r\n      Forms Page\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport useTitle from \"react-use/lib/useTitle\";\r\nimport Breadcrums from \"components/Breadcrums\";\r\nimport \"./index.css\";\r\n\r\ntype PropsNotFoundPage = RouteComponentProps;\r\n\r\nfunction NotFoundPage({ history }: PropsNotFoundPage) {\r\n  useTitle(\"Ruta no encontrada 404\");\r\n\r\n  return (\r\n    <div className=\"splash-screen\">\r\n      <div className=\"container-breadcrums-floated\">\r\n        <Breadcrums breadcrumbs={[{ name: \"Ruta no encontrada\", pathname: \"/\" }]} />\r\n      </div>\r\n      <div className=\"notfound-screen-layout\">\r\n        <h3 className=\"notfound-screen-errcode\">404</h3>\r\n        <p className=\"notfound-screen-desc\">La ruta que estas visitando en estos momentos no existe.</p>\r\n        <section className=\"notfound-screen-action-buttons\">\r\n          <div className=\"notfound-screen-action-buttons-wrapper\">\r\n            <button className=\"notfound-screen-action-goback\" onClick={history.goBack}>Regresar</button>\r\n          </div>\r\n          <div className=\"notfound-screen-action-buttons-wrapper\">\r\n            <button className=\"notfound-screen-action-gohome\" onClick={() => history.push(\"/\")}>Inicio</button>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default withRouter(NotFoundPage)","import React from \"react\";\r\nimport { Redirect, Switch, Route } from \"react-router-dom\";\r\n\r\nimport DashboardPage from \"pages/Dashboard\";\r\nimport ElectionsPage from \"pages/Elections\";\r\nimport EditElectionPage from \"pages/EditElection\";\r\nimport StatsElection from \"pages/StatsElection\";\r\nimport AppsPage from \"pages/Apps\";\r\nimport MessagePage from \"pages/Message\";\r\nimport FormsPage from \"pages/Forms\";\r\nimport NotFoundPage from \"pages/NotFoundPage\";\r\n\r\ntype PropsClientRoutes = {};\r\n\r\nexport default function ClientRoutes(_props: PropsClientRoutes) {\r\n  return (\r\n    <Switch>\r\n      <Redirect exact from='/' to='/dashboard' />\r\n      <Route exact path='/dashboard' component={DashboardPage} />\r\n      <Route exact path='/elections' component={ElectionsPage} />\r\n      <Route exact path='/elections/:id/edit' component={EditElectionPage} />\r\n      <Route exact path='/elections/:id/stats' component={StatsElection(true)} />\r\n      <Route exact path='/apps' component={AppsPage} />\r\n      <Route exact path='/messages' component={MessagePage} />\r\n      <Route exact path='/forms' component={FormsPage} />\r\n      <Route component={NotFoundPage} />\r\n    </Switch>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { TypeCardLink } from \"types/appTypes\";\r\nimport \"./index.css\";\r\n\r\ntype PropsCardLink = TypeCardLink;\r\n\r\nexport default function CardLink({ link, cover, title, description }: PropsCardLink) {\r\n  const coverImage = cover !== undefined ? { backgroundImage: `url(${cover})` } : {};\r\n\r\n  return <div className=\"card-link-wrapper\">\r\n    <Link to={link} style={coverImage} className=\"card-link-container\">\r\n      <h1 className=\"card-link-title\">{title}</h1>\r\n      <p className=\"card-link-desc\">{description}</p>\r\n    </Link>\r\n  </div>\r\n}","import React from \"react\";\r\nimport CardLink from \"components/Card/CardLink\";\r\nimport { TypeCardLink } from \"types/appTypes\";\r\nimport \"./index.css\"\r\n\r\ntype PropsCardLinks = {\r\n  links: TypeCardLink[];\r\n}\r\n\r\nexport default function ListCardLinks({ links }: PropsCardLinks) {\r\n  return <div className=\"card-links\">\r\n    {\r\n      links.map((props, index) => (\r\n        <CardLink {...props} key={index} />\r\n      ))\r\n    }\r\n  </div>\r\n}","import React, { ReactNode } from \"react\";\r\nimport Breadcrums from \"components/Breadcrums\";\r\nimport \"./index.css\";\r\n\r\ntype PropsLayout = {\r\n  breadcrumbs: { name: string, pathname: string }[];\r\n  children: ReactNode;\r\n};\r\n\r\nexport default function Layout({ breadcrumbs, children }: PropsLayout) {\r\n  return <div>\r\n    <div className=\"container-breadcrums-floated\">\r\n      <Breadcrums className=\"layout-breadcrum\" breadcrumbs={[{ name: \"Inicio\", pathname: \"/\" }, ...breadcrumbs]} />\r\n    </div>\r\n    <div className=\"screen-layout\">\r\n      {children}\r\n    </div>\r\n  </div>\r\n}","import React, { memo, useMemo, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport useTitle from \"react-use/lib/useTitle\";\r\nimport { Formik, Form, ErrorMessage, FormikHelpers } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport Button from \"react-rainbow-components/components/Button\";\r\nimport RenderIf from \"react-rainbow-components/components/RenderIf\";\r\nimport Spinner from \"react-rainbow-components/components/Spinner\";\r\nimport Badge from \"react-rainbow-components/components/Badge\";\r\nimport ListCardLinks from \"components/Lists/ListCardLinks\";\r\nimport Layout from \"components/Layout\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport { TypeCardLink } from \"types/appTypes\";\r\nimport \"./index.css\";\r\n\r\ntype PropsLogin = RouteComponentProps;\r\n\r\ntype TypeFormikSubmit<Values> = (values: Values, formikHelpers: FormikHelpers<Values>) => void | Promise<any>;\r\n\r\nconst login_title = \"APP Elecciones Estudiantiles\";\r\nconst login_description = \"Sólo si eres administrador de este sitio\";\r\n\r\nexport default function Login(_: PropsLogin) {\r\n  const { createSession } = useAuth();\r\n  const { fetchPostWithoutToken } = useFetch();\r\n\r\n  useTitle(\"Pantalla de ingreso\");\r\n\r\n  const cardLinks: TypeCardLink[] = useMemo(() => [\r\n    {\r\n      title: \"Consulta de datos\",\r\n      cover: \"https://servel.cl/wp-content/uploads/2016/11/btn-home-33.jpg\",\r\n      link: \"/search\",\r\n      external: false,\r\n      description: \"Conoce los partidos con sus candidatos y propuestas\"\r\n    },\r\n    {\r\n      title: \"Ir a votar\",\r\n      cover: \"https://servel.cl/wp-content/uploads/2016/05/btn-home-06.jpg\",\r\n      link: \"/votar\",\r\n      external: false,\r\n      description: \"Vota por tu partido\"\r\n    },\r\n    {\r\n      title: \"Historial de elecciones\",\r\n      cover: \"https://servel.cl/wp-content/uploads/2018/03/btn-home-32.png\",\r\n      link: \"/historial\",\r\n      external: false,\r\n      description: \"Elecciones y resultados desde 2020\"\r\n    }\r\n  ], []);\r\n\r\n  const sendLoginRequest: TypeFormikSubmit<{ identifier: \"\", password: \"\" }> = async ({ identifier, password }, { setFieldError }) => {\r\n    try {\r\n      const session = await fetchPostWithoutToken(\"/auth/local\", { identifier, password });\r\n      return createSession(session);\r\n    } catch (error) {\r\n      return setFieldError(\"identifier\", \"Usuario o contraseña incorrectos\");\r\n    }\r\n  };\r\n  const sendRecoveryRequest: TypeFormikSubmit<{ email: \"\" }> = async ({ email }, { setStatus }) => {\r\n    try {\r\n      await fetchPostWithoutToken(\"/auth/forgot-password\", { email });\r\n      return setStatus(\"success\");\r\n    } catch (error) {\r\n      return setStatus(\"error\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Layout breadcrumbs={[]}>\r\n      <section className=\"login-screen-layout\">\r\n        <section className=\"list-items-col\">\r\n          <h1 className=\"login-screen-section-links-title\">Links relacionados</h1>\r\n          <ListCardLinks links={cardLinks} />\r\n        </section>\r\n        <SectionForms\r\n          className=\"login-screen-section-form\"\r\n          submitLogin={sendLoginRequest}\r\n          submitRecovery={sendRecoveryRequest}\r\n        />\r\n      </section>\r\n    </Layout>\r\n  );\r\n}\r\n\r\ntype PropsSectionForms = {\r\n  submitLogin: TypeFormikSubmit<{ identifier: \"\", password: \"\" }>;\r\n  submitRecovery: TypeFormikSubmit<{ email: \"\" }>;\r\n  className: string;\r\n};\r\n\r\nconst SectionForms = memo(\r\n  function SectionForms({ submitLogin, submitRecovery }: PropsSectionForms) {\r\n    const loginSchema = yup.object().shape({\r\n      identifier: yup.string()\r\n        .default(\"\")\r\n        .required(),\r\n      password: yup.string()\r\n        .default(\"\")\r\n        .required()\r\n    });\r\n    const recoverySchema = yup.object().shape({\r\n      email: yup.string()\r\n        .email(\"Correo inválido\")\r\n        .default(\"\")\r\n        .required('Required'),\r\n    });\r\n    const [isRecoveryPassword, openRecoveryPassword] = useState<boolean>(false);\r\n\r\n    if (isRecoveryPassword) {\r\n\r\n      return <section className=\"login-screen-section-form\">\r\n        <h1 className=\"login-screen-section-form-title\">Recuperar contrase&ntilde;a</h1>\r\n        <p className=\"login-screen-section-form-desc\"></p>\r\n\r\n        <Formik validationSchema={recoverySchema} initialValues={{ email: \"\" }} onSubmit={submitRecovery}>\r\n          {function ({ isSubmitting, values, status, setFieldValue }) {\r\n            return (\r\n              <Form className='login-screen-section-form-form'>\r\n                <RenderIf isTrue={status === \"success\"}>\r\n                  <Badge\r\n                    variant=\"error\"\r\n                    title=\"Correo enviado\"\r\n                    label=\"Tu contrase&ntilde;a fue enviada a tu correo\"\r\n                  />\r\n                </RenderIf>\r\n                <RenderIf isTrue={status !== \"success\"}>\r\n                  <div className=\"login-screen-section-form-input-space\">\r\n                    <RenderIf isTrue={status === \"error\"}>\r\n                      <Badge\r\n                        variant=\"error\"\r\n                        title=\"Correo electr&oacute;nico incorrecto\"\r\n                        label=\"Correo electr&oacute;nico incorrecto\"\r\n                      />\r\n                    </RenderIf>\r\n                  </div>\r\n                  <div className=\"login-screen-section-form-input-space\">\r\n                    <input name='email' type='text' value={values.email || \"\"} onChange={({ target: { value } }) => {\r\n                      return setFieldValue(\"email\", value, true);\r\n                    }}\r\n                      placeholder='Correo electr&oacute;nico'\r\n                      className=\"login-screen-section-form-input\"\r\n                      disabled={isSubmitting}\r\n                    />\r\n                  </div>\r\n                  <div className=\"login-screen-section-form-input-space\">\r\n                    {isSubmitting ? (\r\n                      <Spinner size=\"large\" type=\"arc\" variant=\"brand\" />\r\n                    ) : (\r\n                        <Button label=\"Recuperar mi contrase&ntilde;a\" type='submit' disabled={isSubmitting} />\r\n                      )\r\n                    }\r\n                  </div>\r\n                </RenderIf>\r\n                {\r\n                  !isSubmitting && <p className=\"false-link\" onClick={() => {\r\n                    return openRecoveryPassword(false);\r\n                  }}>Iniciar sessi&oacute;n</p>\r\n                }\r\n              </Form>\r\n            );\r\n          }}\r\n        </Formik>\r\n      </section>\r\n    }\r\n    return <section className=\"login-screen-section-form\">\r\n      <h1 className=\"login-screen-section-form-title\">{login_title}</h1>\r\n      <p className=\"login-screen-section-form-desc\">{login_description}</p>\r\n      <Formik validationSchema={loginSchema} initialValues={{ identifier: \"\", password: \"\" }} onSubmit={submitLogin}>\r\n        {function ({ isSubmitting, values, setFieldValue }) {\r\n          return (\r\n            <Form className='login-screen-section-form-form'>\r\n              <div className=\"login-screen-section-form-input-space\">\r\n                <input name='identifier' type='text' value={values.identifier || \"\"} onChange={({ target: { value } }) => {\r\n                  return setFieldValue(\"identifier\", value);\r\n                }}\r\n                  placeholder='Nombre de usuario o correo electr&oacute;nico'\r\n                  className=\"login-screen-section-form-input\"\r\n                  disabled={isSubmitting}\r\n                />\r\n              </div>\r\n              <div className=\"login-screen-section-form-input-space\">\r\n                <input name='password' type='password' value={values.password || \"\"} onChange={({ target: { value } }) => {\r\n                  return setFieldValue(\"password\", value);\r\n                }}\r\n                  placeholder='Contrase&ntilde;a'\r\n                  className=\"login-login-screen-section-form-input\"\r\n                  disabled={isSubmitting}\r\n                />\r\n              </div>\r\n              <div className=\"login-screen-section-form-input-space\">\r\n                <ErrorMessage name='identifier' component='small' render={(errMessage) => (\r\n                  <Badge variant=\"error\" title={errMessage} label={errMessage} />\r\n                )} />\r\n              </div>\r\n              {\r\n                !isSubmitting && <p className=\"false-link\" onClick={() => {\r\n                  return openRecoveryPassword(true);\r\n                }}>Olvid&eacute; mi contrase&ntilde;a</p>\r\n              }\r\n              <div className=\"login-screen-section-form-input-space\">\r\n                {isSubmitting ? (\r\n                  <Spinner size=\"large\" type=\"arc\" variant=\"brand\" />\r\n                ) : (\r\n                    <Button label=\"Iniciar sessi&oacute;n\" type='submit' disabled={isSubmitting} />\r\n                  )\r\n                }\r\n              </div>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </section>\r\n  }\r\n)","import React from \"react\";\r\nimport { TypeElectionFunc } from \"types/electionTypes\";\r\n\r\ntype PropsScreenCredentials = {\r\n  election: TypeElectionFunc;\r\n};\r\n\r\nexport default function ScreenCredentials({ election }: PropsScreenCredentials) {\r\n  return <p>\r\n    Credentials Page : {election.name}\r\n  </p>\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { TypeElectionFunc } from \"types/electionTypes\";\r\n\r\ntype PropsScreenElections = {\r\n  elections: TypeElectionFunc[];\r\n};\r\n\r\nexport default function ScreenElections({ elections }: PropsScreenElections) {\r\n  return <div>\r\n    {\r\n      elections.map((election, index) => {\r\n        return <Link key={index} to={`/votar?id=${election.id}`}>\r\n          {election.name}\r\n        </Link>\r\n      })\r\n    }\r\n  </div>\r\n}","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { Redirect, RouteComponentProps } from \"react-router-dom\";\r\nimport Layout from \"components/Layout\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport { TypeElectionFunc } from \"types/electionTypes\";\r\nimport { resolveValueType } from \"utils/properTypes\";\r\nimport ScreenCredentials from \"./ScreenCredentials\";\r\nimport ScreenElections from \"./ScreenElections\";\r\n\r\ntype PropsVotar = RouteComponentProps & {};\r\n\r\nconst { fetchGetWithoutToken } = useFetch();\r\nexport default function Votar({ location }: PropsVotar) {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isError, setIsError] = useState<Error | null>(null);\r\n  const [election, setElection] = useState<TypeElectionFunc | null>(null);\r\n  const [elections, setElections] = useState<TypeElectionFunc[] | null>(null);\r\n\r\n  const id = useMemo(() => new URLSearchParams(location.search).get('id'), [location]);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      setIsLoading(true);\r\n      fetchGetWithoutToken(`/elections/public/${id}`)\r\n        .then((data) => {\r\n          const election = resolveValueType<TypeElectionFunc>(data, \"object\") as TypeElectionFunc | null;\r\n          return election;\r\n        })\r\n        .then(setElection)\r\n        .catch(setIsError)\r\n        .finally(() => {\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (!id) {\r\n      setIsLoading(true);\r\n      setElection(null);\r\n      fetchGetWithoutToken(\"/elections/public\")\r\n        .then((data) => {\r\n          const elections = resolveValueType<TypeElectionFunc[]>(data, \"object\") as TypeElectionFunc[] | null;\r\n          return elections || [];\r\n        })\r\n        .then(setElections)\r\n        // .catch(() => {\r\n        //   setIsLoading(false);\r\n        // })\r\n        .finally(() => {\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  }, [id]);\r\n\r\n  // Resolve it!!! ->\r\n\r\n  if (isError) {\r\n    return <Redirect to=\"/votar\" />\r\n  }\r\n\r\n  if (election && !isLoading) {\r\n    return <Layout breadcrumbs={[\r\n      { name: \"Votar\", pathname: \"/votar\" },\r\n      { name: election.name as string, pathname: `/votar?id=${election.id}` },\r\n    ]}>\r\n      <ScreenCredentials election={election} />\r\n    </Layout>\r\n  }\r\n\r\n  if (elections && !isLoading) {\r\n    return <Layout breadcrumbs={[{ name: \"Votar\", pathname: \"/votar\" }]}>\r\n      <ScreenElections elections={elections} />\r\n    </Layout>\r\n  }\r\n\r\n  return <Layout breadcrumbs={[{ name: \"Votar\", pathname: \"/votar\" }]}>\r\n    <p>Cargando</p>\r\n  </Layout>\r\n}","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport LoginPage from \"pages/Login\";\r\nimport VotarPage from \"pages/Votar\";\r\nimport NotFoundPage from \"pages/NotFoundPage\";\r\n\r\ntype PropsVisitRoutes = {};\r\n\r\nexport default function VisitRoutes(_props: PropsVisitRoutes) {\r\n  return (\r\n    <Switch>\r\n      <Redirect exact from='/dashboard' to='/' />\r\n      <Route exact path='/' component={LoginPage} />\r\n      <Route exact path='/votar' component={VotarPage} />\r\n      <Route component={NotFoundPage} />\r\n    </Switch>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function FormIcon(props: { color?: string }) {\r\n  return (\r\n    <svg viewBox=\"0 0 32 32\" className='icon-svg' fill={props.color || \"black\"}>\r\n      <path d=\"M27 0h-24c-1.65 0-3 1.35-3 3v26c0 1.65 1.35 3 3 3h24c1.65 0 3-1.35 3-3v-26c0-1.65-1.35-3-3-3zM26 28h-22v-24h22v24zM8 18h14v2h-14zM8 22h14v2h-14zM10 9c0-1.657 1.343-3 3-3s3 1.343 3 3c0 1.657-1.343 3-3 3s-3-1.343-3-3zM15 12h-4c-1.65 0-3 0.9-3 2v2h10v-2c0-1.1-1.35-2-3-2z\"></path>\r\n    </svg>\r\n  )\r\n}","import React from \"react\";\r\n\r\nexport default function AppsIcon(props: { color?: string }) {\r\n  return (\r\n    <svg viewBox=\"0 0 32 32\" className='icon-svg' fill={props.color || \"black\"}>\r\n      <path d=\"M22 2l-10 10h-6l-6 8c0 0 6.357-1.77 10.065-0.94l-10.065 12.94 13.184-10.255c1.839 4.208-1.184 10.255-1.184 10.255l8-6v-6l10-10 2-10-10 2z\"></path>\r\n    </svg>\r\n  )\r\n}","import React from \"react\";\r\n\r\nexport default function MailIcon(props: { color?: string }) {\r\n  return (\r\n    <svg viewBox=\"0 0 32 32\" className='icon-svg' fill={props.color || \"black\"}>\r\n      <path d=\"M29 4h-26c-1.65 0-3 1.35-3 3v20c0 1.65 1.35 3 3 3h26c1.65 0 3-1.35 3-3v-20c0-1.65-1.35-3-3-3zM12.461 17.199l-8.461 6.59v-15.676l8.461 9.086zM5.512 8h20.976l-10.488 7.875-10.488-7.875zM12.79 17.553l3.21 3.447 3.21-3.447 6.58 8.447h-19.579l6.58-8.447zM19.539 17.199l8.461-9.086v15.676l-8.461-6.59z\"></path>\r\n    </svg>\r\n  )\r\n}","import React from \"react\";\r\n\r\nexport default function BullhornIcon(props: { color?: string }) {\r\n  return (\r\n    <svg viewBox=\"0 0 32 32\" className=\"icon-svg\" fill={props.color || \"black\"}>\r\n      <path d=\"M32 13.414c0-6.279-1.837-11.373-4.109-11.413 0.009-0 0.018-0.001 0.027-0.001h-2.592c0 0-6.088 4.573-14.851 6.367-0.268 1.415-0.438 3.102-0.438 5.047s0.171 3.631 0.438 5.047c8.763 1.794 14.851 6.367 14.851 6.367h2.592c-0.009 0-0.018-0.001-0.027-0.001 2.272-0.040 4.109-5.134 4.109-11.413zM27.026 23.102c-0.293 0-0.61-0.304-0.773-0.486-0.395-0.439-0.775-1.124-1.1-1.979-0.727-1.913-1.127-4.478-1.127-7.223s0.4-5.309 1.127-7.223c0.325-0.855 0.705-1.54 1.1-1.979 0.163-0.182 0.48-0.486 0.773-0.486s0.61 0.304 0.773 0.486c0.395 0.439 0.775 1.124 1.1 1.979 0.727 1.913 1.127 4.479 1.127 7.223s-0.4 5.309-1.127 7.223c-0.325 0.855-0.705 1.54-1.1 1.979-0.163 0.181-0.48 0.486-0.773 0.486zM7.869 13.414c0-1.623 0.119-3.201 0.345-4.659-1.48 0.205-2.779 0.323-4.386 0.323-2.096 0-2.096 0-2.096 0l-1.733 2.959v2.755l1.733 2.959c0 0 0 0 2.096 0 1.606 0 2.905 0.118 4.386 0.323-0.226-1.458-0.345-3.036-0.345-4.659zM11.505 20.068l-4-0.766 2.558 10.048c0.132 0.52 0.648 0.782 1.146 0.583l3.705-1.483c0.498-0.199 0.698-0.749 0.444-1.221l-3.853-7.161zM27.026 17.148c-0.113 0-0.235-0.117-0.298-0.187-0.152-0.169-0.299-0.433-0.424-0.763-0.28-0.738-0.434-1.726-0.434-2.784s0.154-2.046 0.434-2.784c0.125-0.33 0.272-0.593 0.424-0.763 0.063-0.070 0.185-0.187 0.298-0.187s0.235 0.117 0.298 0.187c0.152 0.169 0.299 0.433 0.424 0.763 0.28 0.737 0.434 1.726 0.434 2.784s-0.154 2.046-0.434 2.784c-0.125 0.33-0.272 0.593-0.424 0.763-0.063 0.070-0.185 0.187-0.298 0.187z\"></path>\r\n    </svg>\r\n  )\r\n}","import React from \"react\";\r\n\r\nexport default function MenuIcon(props: { color?: string }) {\r\n  return (\r\n    <svg viewBox='0 0 32 32' className='icon-svg' fill={props.color || \"black\"}>\r\n      <path d='M2 6h28v6h-28zM2 14h28v6h-28zM2 22h28v6h-28z'></path>\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function UserIcon(props: { color?: string }) {\r\n  return (\r\n    <svg viewBox=\"0 0 32 32\" className='icon-svg' fill={props.color || \"black\"}>\r\n      <path d=\"M18 22.082v-1.649c2.203-1.241 4-4.337 4-7.432 0-4.971 0-9-6-9s-6 4.029-6 9c0 3.096 1.797 6.191 4 7.432v1.649c-6.784 0.555-12 3.888-12 7.918h28c0-4.030-5.216-7.364-12-7.918z\"></path>\r\n    </svg>\r\n  );\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MenuIcon from \"icons/MenuIcon\";\r\nimport UserIcon from \"icons/UserIcon\";\r\nimport ButtonMenu from \"react-rainbow-components/components/ButtonMenu\";\r\nimport ButtonIcon from \"react-rainbow-components/components/ButtonIcon\";\r\nimport MenuItem from \"react-rainbow-components/components/MenuItem\";\r\nimport MenuDivider from \"react-rainbow-components/components/MenuDivider\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport { UserContext } from \"context/UserContext\";\r\nimport { useApp } from \"context/AppContext\";\r\nimport \"./index.css\";\r\n\r\ntype PropsAppBar = {\r\n  isSidebarHidden: boolean;\r\n  onToogleSidebar: () => void;\r\n};\r\n\r\nexport default React.memo(function AppBar({ isSidebarHidden, onToogleSidebar }: PropsAppBar) {\r\n  const { removeSession } = useAuth();\r\n  const user = React.useContext(UserContext);\r\n  const { school } = useApp();\r\n\r\n  return (\r\n    <header className='react-rainbow-admin_header rainbow-position_fixed rainbow-flex rainbow-align_center rainbow-p-horizontal_large rainbow-background-color_white'>\r\n      <img src={school.schoolIcon} alt='ue-logo' className='react-rainbow-admin_header-logo' />\r\n      <h2>{school.schoolName}</h2>\r\n      <section className='rainbow-flex rainbow-align_center react-rainbow-admin_header-actions'>\r\n        <ButtonMenu icon={<UserIcon />} assistiveText={`${user && user.username}`} menuAlignment='right' menuSize='small' title={`${user && user.username}`}>\r\n          <li className='rainbow-p-horizontal_small rainbow-align_center rainbow-flex'>\r\n            <div className='rainbow-m-left_x-small'>\r\n              <p className='rainbow-font-size-text_medium rainbow-color_dark-1'>{`${user && user.username}`}</p>\r\n              <p className='rainbow-font-size-text_small rainbow-color_gray-3'>{`${user && user.email}`}</p>\r\n            </div>\r\n          </li>\r\n          <MenuDivider variant='space' />\r\n          <Link to=\"/profile\">\r\n            <MenuItem label='Editar perfil' icon={null} iconPosition='left' />\r\n          </Link>\r\n          <MenuItem label='Cerrar sesión' icon={null} onClick={removeSession} iconPosition='left' />\r\n        </ButtonMenu>\r\n      </section>\r\n\r\n      <ButtonIcon onClick={onToogleSidebar} className='react-rainbow-admin_header-hamburger-button' size='large' icon={<MenuIcon />} />\r\n    </header>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { useApp } from \"context/AppContext\";\r\n\r\nexport default function SplashScreen() {\r\n  const { school } = useApp();\r\n\r\n  return <section className='splash-screen'>\r\n    <h3>{school.schoolAlias}</h3>\r\n  </section>\r\n}","import React, { useState, useEffect, useCallback, memo } from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport useAuth from \"hooks/useAuth\";\r\nimport ClientRouterComponent from \"routes/ClientRoutesComponent\";\r\nimport VisitRouterComponent from \"routes/VisitRoutesComponent\";\r\nimport Application from \"react-rainbow-components/components/Application\";\r\nimport Sidebar from \"react-rainbow-components/components/Sidebar\";\r\nimport SidebarItem from \"react-rainbow-components/components/SidebarItem\";\r\nimport ButtonIcon from \"react-rainbow-components/components/ButtonIcon\";\r\nimport RenderIf from \"react-rainbow-components/components/RenderIf\";\r\nimport FormIcon from \"icons/FormIcon\";\r\nimport AppsIcon from \"icons/AppsIcon\";\r\nimport MailIcon from \"icons/MailIcon\";\r\nimport BullhornIcon from \"icons/BullhornIcon\";\r\nimport AppBar from \"components/AppBar\";\r\nimport SplashScreen from \"components/SplashScreen\";\r\nimport \"./App.css\";\r\n\r\ntype PropsApp = RouteComponentProps & {};\r\n\r\nfunction App({ history }: PropsApp) {\r\n  const { isThereUser, isCheckAuth } = useAuth();\r\n\r\n  const [isSidebarHidden, setSidebarState] = useState<boolean>(true);\r\n  const [selectedItem, selectItem] = useState<string>(() => {\r\n    return history.location.pathname.split(\"/\")[1] || \"dashboard\";\r\n  });\r\n\r\n  const toogleSidebar = () => setSidebarState(!isSidebarHidden);\r\n  const handleOnSelect = (_: any, item: string) => selectItem(item);\r\n  const goTo = useCallback(\r\n    (path: string) => {\r\n      if (!isSidebarHidden) {\r\n        setSidebarState(true);\r\n      }\r\n      return history.push(path);\r\n    },\r\n    [isSidebarHidden, history]\r\n  );\r\n\r\n  useEffect(\r\n    function () {\r\n      document.body.style.overflow = \"auto\";\r\n      if (!isSidebarHidden) {\r\n        document.body.style.overflow = \"hidden\";\r\n      }\r\n    },\r\n    [isSidebarHidden]\r\n  );\r\n\r\n  if (isCheckAuth) {\r\n    return <SplashScreen />;\r\n  } else if (!isThereUser) {\r\n    return <VisitRouterComponent />;\r\n  }\r\n\r\n  return (\r\n    <Application>\r\n      <RenderIf isTrue={!isSidebarHidden}>\r\n        <div className='react-rainbow-admin-app_backdrop' role='presentation' onClick={toogleSidebar} />\r\n      </RenderIf>\r\n      <AppBar isSidebarHidden={isSidebarHidden} onToogleSidebar={toogleSidebar} />\r\n      <div\r\n        className={\r\n          isSidebarHidden ? \"react-rainbow-admin-app_sidebar-container react-rainbow-admin-app_sidebar-container--sidebar-hidden\" : \"react-rainbow-admin-app_sidebar-container\"\r\n        }>\r\n        <Sidebar className='react-rainbow-admin-app_sidebar' selectedItem={selectedItem} onSelect={handleOnSelect}>\r\n          <SidebarItem className='react-rainbow-admin-app_sidebar-item' icon={null} name='dashboard' label='Dashboard' onClick={() => goTo(\"/dashboard\")} />\r\n          <SidebarItem\r\n            className='react-rainbow-admin-app_sidebar-item'\r\n            icon={<BullhornIcon color={selectedItem === \"elections\" ? \"black\" : \"rgba(164,167,181,1)\"} />}\r\n            name='elections'\r\n            label='Elecciones'\r\n            onClick={() => goTo(\"/elections\")}\r\n          />\r\n          <SidebarItem\r\n            className='react-rainbow-admin-app_sidebar-item'\r\n            icon={<AppsIcon color={selectedItem === \"apps\" ? \"black\" : \"rgba(164,167,181,1)\"} />}\r\n            name='apps'\r\n            label='Aplicaciones'\r\n            onClick={() => goTo(\"/apps\")}\r\n          />\r\n          <SidebarItem\r\n            className='react-rainbow-admin-app_sidebar-item'\r\n            icon={<MailIcon color={selectedItem === \"messages\" ? \"black\" : \"rgba(164,167,181,1)\"} />}\r\n            name='messages'\r\n            label='Mensajes'\r\n            onClick={() => goTo(\"/messages\")}\r\n          />\r\n          <SidebarItem\r\n            className='react-rainbow-admin-app_sidebar-item'\r\n            icon={<FormIcon color={selectedItem === \"forms\" ? \"black\" : \"rgba(164,167,181,1)\"} />}\r\n            name='forms'\r\n            label='Formularios'\r\n            onClick={() => goTo(\"/forms\")}\r\n          />\r\n        </Sidebar>\r\n        <RenderIf isTrue={!isSidebarHidden}>\r\n          <div className='react-rainbow-admin-app_sidebar-back-button-container'>\r\n            <ButtonIcon onClick={toogleSidebar} size='large' icon={null} />\r\n          </div>\r\n        </RenderIf>\r\n      </div>\r\n      <div className='react-rainbow-admin-app_router-container'>\r\n        <ClientRouterComponent />\r\n      </div>\r\n    </Application>\r\n  );\r\n}\r\n\r\nexport default withRouter(memo(App));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { SWRConfig } from \"swr\";\r\nimport axios from \"axios\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport useFetch from \"hooks/useFetch\";\r\nimport UserContextProvider from \"context/UserContext\";\r\nimport AppContextProvider from \"context/AppContext\";\r\nimport { REACT_API_URL } from \"configurations/api\";\r\nimport App from './App';\r\n\r\naxios.defaults.baseURL = REACT_API_URL;\r\n\r\nconst { fetchGetWithToken } = useFetch();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppContextProvider>\r\n      <UserContextProvider>\r\n        <SWRConfig value={{\r\n          fetcher: fetchGetWithToken,\r\n          refreshInterval: 15000,\r\n          revalidateOnReconnect: true\r\n        }}>\r\n          <BrowserRouter>\r\n            <App />\r\n          </BrowserRouter>\r\n        </SWRConfig>\r\n      </UserContextProvider>\r\n    </AppContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}